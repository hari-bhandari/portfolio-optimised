{"ast":null,"code":"(function (f) {\n  if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n    module.exports = f();\n  } else if (typeof define === \"function\" && define.amd) {\n    define([], f);\n  } else {\n    var g;\n\n    if (typeof window !== \"undefined\") {\n      g = window;\n    } else if (typeof global !== \"undefined\") {\n      g = global;\n    } else if (typeof self !== \"undefined\") {\n      g = self;\n    } else {\n      g = this;\n    }\n\n    g.lottie_api = f();\n  }\n})(function () {\n  var define, module, exports;\n  return function () {\n    function r(e, n, t) {\n      function o(i, f) {\n        if (!n[i]) {\n          if (!e[i]) {\n            var c = \"function\" == typeof require && require;\n            if (!f && c) return c(i, !0);\n            if (u) return u(i, !0);\n            var a = new Error(\"Cannot find module '\" + i + \"'\");\n            throw a.code = \"MODULE_NOT_FOUND\", a;\n          }\n\n          var p = n[i] = {\n            exports: {}\n          };\n          e[i][0].call(p.exports, function (r) {\n            var n = e[i][1][r];\n            return o(n || r);\n          }, p, p.exports, r, e, n, t);\n        }\n\n        return n[i].exports;\n      }\n\n      for (var u = \"function\" == typeof require && require, i = 0; i < t.length; i++) o(t[i]);\n\n      return o;\n    }\n\n    return r;\n  }()({\n    1: [function (require, module, exports) {\n      'use strict';\n\n      var Renderer = require('../renderer/Renderer');\n\n      var layer_api = require('../helpers/layerAPIBuilder');\n\n      function AnimationItemFactory(animation) {\n        var state = {\n          animation: animation,\n          elements: animation.renderer.elements.map(function (item) {\n            return layer_api(item, animation);\n          }),\n          boundingRect: null,\n          scaleData: null\n        };\n\n        function getCurrentFrame() {\n          return animation.currentFrame;\n        }\n\n        function getCurrentTime() {\n          return animation.currentFrame / animation.frameRate;\n        }\n\n        function addValueCallback(properties, value) {\n          var i,\n              len = properties.length;\n\n          for (i = 0; i < len; i += 1) {\n            properties.getPropertyAtIndex(i).setValue(value);\n          }\n        }\n\n        function toKeypathLayerPoint(properties, point) {\n          var i,\n              len = properties.length;\n          var points = [];\n\n          for (i = 0; i < len; i += 1) {\n            points.push(properties.getPropertyAtIndex(i).toKeypathLayerPoint(point));\n          }\n\n          if (points.length === 1) {\n            return points[0];\n          }\n\n          return points;\n        }\n\n        function fromKeypathLayerPoint(properties, point) {\n          var i,\n              len = properties.length;\n          var points = [];\n\n          for (i = 0; i < len; i += 1) {\n            points.push(properties.getPropertyAtIndex(i).fromKeypathLayerPoint(point));\n          }\n\n          if (points.length === 1) {\n            return points[0];\n          }\n\n          return points;\n        }\n\n        function calculateScaleData(boundingRect) {\n          var compWidth = animation.animationData.w;\n          var compHeight = animation.animationData.h;\n          var compRel = compWidth / compHeight;\n          var elementWidth = boundingRect.width;\n          var elementHeight = boundingRect.height;\n          var elementRel = elementWidth / elementHeight;\n          var scale, scaleXOffset, scaleYOffset;\n          var xAlignment, yAlignment, scaleMode;\n          var aspectRatio = animation.renderer.renderConfig.preserveAspectRatio.split(' ');\n\n          if (aspectRatio[1] === 'meet') {\n            scale = elementRel > compRel ? elementHeight / compHeight : elementWidth / compWidth;\n          } else {\n            scale = elementRel > compRel ? elementWidth / compWidth : elementHeight / compHeight;\n          }\n\n          xAlignment = aspectRatio[0].substr(0, 4);\n          yAlignment = aspectRatio[0].substr(4);\n\n          if (xAlignment === 'xMin') {\n            scaleXOffset = 0;\n          } else if (xAlignment === 'xMid') {\n            scaleXOffset = (elementWidth - compWidth * scale) / 2;\n          } else {\n            scaleXOffset = elementWidth - compWidth * scale;\n          }\n\n          if (yAlignment === 'YMin') {\n            scaleYOffset = 0;\n          } else if (yAlignment === 'YMid') {\n            scaleYOffset = (elementHeight - compHeight * scale) / 2;\n          } else {\n            scaleYOffset = elementHeight - compHeight * scale;\n          }\n\n          return {\n            scaleYOffset: scaleYOffset,\n            scaleXOffset: scaleXOffset,\n            scale: scale\n          };\n        }\n\n        function recalculateSize(container) {\n          var container = animation.wrapper;\n          state.boundingRect = container.getBoundingClientRect();\n          state.scaleData = calculateScaleData(state.boundingRect);\n        }\n\n        function toContainerPoint(point) {\n          if (!animation.wrapper || !animation.wrapper.getBoundingClientRect) {\n            return point;\n          }\n\n          if (!state.boundingRect) {\n            recalculateSize();\n          }\n\n          var boundingRect = state.boundingRect;\n          var newPoint = [point[0] - boundingRect.left, point[1] - boundingRect.top];\n          var scaleData = state.scaleData;\n          newPoint[0] = (newPoint[0] - scaleData.scaleXOffset) / scaleData.scale;\n          newPoint[1] = (newPoint[1] - scaleData.scaleYOffset) / scaleData.scale;\n          return newPoint;\n        }\n\n        function fromContainerPoint(point) {\n          if (!animation.wrapper || !animation.wrapper.getBoundingClientRect) {\n            return point;\n          }\n\n          if (!state.boundingRect) {\n            recalculateSize();\n          }\n\n          var boundingRect = state.boundingRect;\n          var scaleData = state.scaleData;\n          var newPoint = [point[0] * scaleData.scale + scaleData.scaleXOffset, point[1] * scaleData.scale + scaleData.scaleYOffset];\n          var newPoint = [newPoint[0] + boundingRect.left, newPoint[1] + boundingRect.top];\n          return newPoint;\n        }\n\n        function getScaleData() {\n          return state.scaleData;\n        }\n\n        var methods = {\n          recalculateSize: recalculateSize,\n          getScaleData: getScaleData,\n          toContainerPoint: toContainerPoint,\n          fromContainerPoint: fromContainerPoint,\n          getCurrentFrame: getCurrentFrame,\n          getCurrentTime: getCurrentTime,\n          addValueCallback: addValueCallback,\n          toKeypathLayerPoint: toKeypathLayerPoint,\n          fromKeypathLayerPoint: fromKeypathLayerPoint\n        };\n        return Object.assign({}, Renderer(state), methods);\n      }\n\n      module.exports = AnimationItemFactory;\n    }, {\n      \"../helpers/layerAPIBuilder\": 6,\n      \"../renderer/Renderer\": 42\n    }],\n    2: [function (require, module, exports) {\n      'use strict';\n\n      module.exports = ',';\n    }, {}],\n    3: [function (require, module, exports) {\n      'use strict';\n\n      module.exports = {\n        0: 0,\n        1: 1,\n        2: 2,\n        3: 3,\n        4: 4,\n        5: 5,\n        13: 13,\n        'comp': 0,\n        'composition': 0,\n        'solid': 1,\n        'image': 2,\n        'null': 3,\n        'shape': 4,\n        'text': 5,\n        'camera': 13\n      };\n    }, {}],\n    4: [function (require, module, exports) {\n      'use strict';\n\n      module.exports = {\n        LAYER_TRANSFORM: 'transform'\n      };\n    }, {}],\n    5: [function (require, module, exports) {\n      'use strict';\n\n      var key_path_separator = require('../enums/key_path_separator');\n\n      var sanitizeString = require('./stringSanitizer');\n\n      module.exports = function (propertyPath) {\n        var keyPathSplit = propertyPath.split(key_path_separator);\n        var selector = keyPathSplit.shift();\n        return {\n          selector: sanitizeString(selector),\n          propertyPath: keyPathSplit.join(key_path_separator)\n        };\n      };\n    }, {\n      \"../enums/key_path_separator\": 2,\n      \"./stringSanitizer\": 7\n    }],\n    6: [function (require, module, exports) {\n      'use strict';\n\n      var TextElement = require('../layer/text/TextElement');\n\n      var ShapeElement = require('../layer/shape/Shape');\n\n      var NullElement = require('../layer/null_element/NullElement');\n\n      var SolidElement = require('../layer/solid/SolidElement');\n\n      var ImageElement = require('../layer/image/ImageElement');\n\n      var CameraElement = require('../layer/camera/Camera');\n\n      var LayerBase = require('../layer/LayerBase');\n\n      module.exports = function getLayerApi(element, parent) {\n        var layerType = element.data.ty;\n\n        var Composition = require('../layer/composition/Composition');\n\n        switch (layerType) {\n          case 0:\n            return Composition(element, parent);\n\n          case 1:\n            return SolidElement(element, parent);\n\n          case 2:\n            return ImageElement(element, parent);\n\n          case 3:\n            return NullElement(element, parent);\n\n          case 4:\n            return ShapeElement(element, parent, element.data.shapes, element.itemsData);\n\n          case 5:\n            return TextElement(element, parent);\n\n          case 13:\n            return CameraElement(element, parent);\n\n          default:\n            return LayerBase(element, parent);\n        }\n      };\n    }, {\n      \"../layer/LayerBase\": 13,\n      \"../layer/camera/Camera\": 15,\n      \"../layer/composition/Composition\": 16,\n      \"../layer/image/ImageElement\": 20,\n      \"../layer/null_element/NullElement\": 21,\n      \"../layer/shape/Shape\": 22,\n      \"../layer/solid/SolidElement\": 35,\n      \"../layer/text/TextElement\": 38\n    }],\n    7: [function (require, module, exports) {\n      \"use strict\";\n\n      function sanitizeString(string) {\n        return string.trim();\n      }\n\n      module.exports = sanitizeString;\n    }, {}],\n    8: [function (require, module, exports) {\n      'use strict';\n\n      var createTypedArray = require('./typedArrays');\n      /*!\n       Transformation Matrix v2.0\n       (c) Epistemex 2014-2015\n       www.epistemex.com\n       By Ken Fyrstenberg\n       Contributions by leeoniya.\n       License: MIT, header required.\n       */\n\n      /**\n       * 2D transformation matrix object initialized with identity matrix.\n       *\n       * The matrix can synchronize a canvas context by supplying the context\n       * as an argument, or later apply current absolute transform to an\n       * existing context.\n       *\n       * All values are handled as floating point values.\n       *\n       * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\n       * @prop {number} a - scale x\n       * @prop {number} b - shear y\n       * @prop {number} c - shear x\n       * @prop {number} d - scale y\n       * @prop {number} e - translate x\n       * @prop {number} f - translate y\n       * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\n       * @constructor\n       */\n\n\n      var Matrix = function () {\n        var _cos = Math.cos;\n        var _sin = Math.sin;\n        var _tan = Math.tan;\n        var _rnd = Math.round;\n\n        function reset() {\n          this.props[0] = 1;\n          this.props[1] = 0;\n          this.props[2] = 0;\n          this.props[3] = 0;\n          this.props[4] = 0;\n          this.props[5] = 1;\n          this.props[6] = 0;\n          this.props[7] = 0;\n          this.props[8] = 0;\n          this.props[9] = 0;\n          this.props[10] = 1;\n          this.props[11] = 0;\n          this.props[12] = 0;\n          this.props[13] = 0;\n          this.props[14] = 0;\n          this.props[15] = 1;\n          return this;\n        }\n\n        function rotate(angle) {\n          if (angle === 0) {\n            return this;\n          }\n\n          var mCos = _cos(angle);\n\n          var mSin = _sin(angle);\n\n          return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n        }\n\n        function rotateX(angle) {\n          if (angle === 0) {\n            return this;\n          }\n\n          var mCos = _cos(angle);\n\n          var mSin = _sin(angle);\n\n          return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\n        }\n\n        function rotateY(angle) {\n          if (angle === 0) {\n            return this;\n          }\n\n          var mCos = _cos(angle);\n\n          var mSin = _sin(angle);\n\n          return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\n        }\n\n        function rotateZ(angle) {\n          if (angle === 0) {\n            return this;\n          }\n\n          var mCos = _cos(angle);\n\n          var mSin = _sin(angle);\n\n          return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n        }\n\n        function shear(sx, sy) {\n          return this._t(1, sy, sx, 1, 0, 0);\n        }\n\n        function skew(ax, ay) {\n          return this.shear(_tan(ax), _tan(ay));\n        }\n\n        function skewFromAxis(ax, angle) {\n          var mCos = _cos(angle);\n\n          var mSin = _sin(angle);\n\n          return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); //return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n        }\n\n        function scale(sx, sy, sz) {\n          sz = isNaN(sz) ? 1 : sz;\n\n          if (sx == 1 && sy == 1 && sz == 1) {\n            return this;\n          }\n\n          return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\n        }\n\n        function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\n          this.props[0] = a;\n          this.props[1] = b;\n          this.props[2] = c;\n          this.props[3] = d;\n          this.props[4] = e;\n          this.props[5] = f;\n          this.props[6] = g;\n          this.props[7] = h;\n          this.props[8] = i;\n          this.props[9] = j;\n          this.props[10] = k;\n          this.props[11] = l;\n          this.props[12] = m;\n          this.props[13] = n;\n          this.props[14] = o;\n          this.props[15] = p;\n          return this;\n        }\n\n        function translate(tx, ty, tz) {\n          tz = tz || 0;\n\n          if (tx !== 0 || ty !== 0 || tz !== 0) {\n            return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\n          }\n\n          return this;\n        }\n\n        function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\n          var _p = this.props;\n\n          if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\n            //NOTE: commenting this condition because TurboFan deoptimizes code when present\n            //if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n            _p[12] = _p[12] * a2 + _p[15] * m2;\n            _p[13] = _p[13] * f2 + _p[15] * n2;\n            _p[14] = _p[14] * k2 + _p[15] * o2;\n            _p[15] = _p[15] * p2; //}\n\n            this._identityCalculated = false;\n            return this;\n          }\n\n          var a1 = _p[0];\n          var b1 = _p[1];\n          var c1 = _p[2];\n          var d1 = _p[3];\n          var e1 = _p[4];\n          var f1 = _p[5];\n          var g1 = _p[6];\n          var h1 = _p[7];\n          var i1 = _p[8];\n          var j1 = _p[9];\n          var k1 = _p[10];\n          var l1 = _p[11];\n          var m1 = _p[12];\n          var n1 = _p[13];\n          var o1 = _p[14];\n          var p1 = _p[15];\n          /* matrix order (canvas compatible):\n           * ace\n           * bdf\n           * 001\n           */\n\n          _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\n          _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\n          _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\n          _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\n          _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\n          _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\n          _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\n          _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\n          _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\n          _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\n          _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\n          _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\n          _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\n          _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\n          _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\n          _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\n          this._identityCalculated = false;\n          return this;\n        }\n\n        function isIdentity() {\n          if (!this._identityCalculated) {\n            this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\n            this._identityCalculated = true;\n          }\n\n          return this._identity;\n        }\n\n        function equals(matr) {\n          var i = 0;\n\n          while (i < 16) {\n            if (matr.props[i] !== this.props[i]) {\n              return false;\n            }\n\n            i += 1;\n          }\n\n          return true;\n        }\n\n        function clone(matr) {\n          var i;\n\n          for (i = 0; i < 16; i += 1) {\n            matr.props[i] = this.props[i];\n          }\n        }\n\n        function cloneFromProps(props) {\n          var i;\n\n          for (i = 0; i < 16; i += 1) {\n            this.props[i] = props[i];\n          }\n        }\n\n        function applyToPoint(x, y, z) {\n          return {\n            x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\n            y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\n            z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\n          };\n          /*return {\n           x: x * me.a + y * me.c + me.e,\n           y: x * me.b + y * me.d + me.f\n           };*/\n        }\n\n        function applyToX(x, y, z) {\n          return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\n        }\n\n        function applyToY(x, y, z) {\n          return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\n        }\n\n        function applyToZ(x, y, z) {\n          return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\n        }\n\n        function inversePoint(pt) {\n          var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\n          var a = this.props[5] / determinant;\n          var b = -this.props[1] / determinant;\n          var c = -this.props[4] / determinant;\n          var d = this.props[0] / determinant;\n          var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\n          var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\n          return [pt[0] * a + pt[1] * c + e, pt[0] * b + pt[1] * d + f, 0];\n        }\n\n        function inversePoints(pts) {\n          var i,\n              len = pts.length,\n              retPts = [];\n\n          for (i = 0; i < len; i += 1) {\n            retPts[i] = inversePoint(pts[i]);\n          }\n\n          return retPts;\n        }\n\n        function applyToTriplePoints(pt1, pt2, pt3) {\n          var arr = createTypedArray('float32', 6);\n\n          if (this.isIdentity()) {\n            arr[0] = pt1[0];\n            arr[1] = pt1[1];\n            arr[2] = pt2[0];\n            arr[3] = pt2[1];\n            arr[4] = pt3[0];\n            arr[5] = pt3[1];\n          } else {\n            var p0 = this.props[0],\n                p1 = this.props[1],\n                p4 = this.props[4],\n                p5 = this.props[5],\n                p12 = this.props[12],\n                p13 = this.props[13];\n            arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\n            arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\n            arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\n            arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\n            arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\n            arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\n          }\n\n          return arr;\n        }\n\n        function applyToPointArray(x, y, z) {\n          var arr;\n\n          if (this.isIdentity()) {\n            arr = [x, y, z];\n          } else {\n            arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12], x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13], x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\n          }\n\n          return arr;\n        }\n\n        function applyToPointStringified(x, y) {\n          if (this.isIdentity()) {\n            return x + ',' + y;\n          }\n\n          return x * this.props[0] + y * this.props[4] + this.props[12] + ',' + (x * this.props[1] + y * this.props[5] + this.props[13]);\n        }\n\n        function toCSS() {\n          //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n          /*if(this.isIdentity()) {\n              return '';\n          }*/\n          var i = 0;\n          var props = this.props;\n          var cssValue = 'matrix3d(';\n          var v = 10000;\n\n          while (i < 16) {\n            cssValue += _rnd(props[i] * v) / v;\n            cssValue += i === 15 ? ')' : ',';\n            i += 1;\n          }\n\n          return cssValue;\n        }\n\n        function to2dCSS() {\n          //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n          /*if(this.isIdentity()) {\n              return '';\n          }*/\n          var v = 10000;\n          var props = this.props;\n          return \"matrix(\" + _rnd(props[0] * v) / v + ',' + _rnd(props[1] * v) / v + ',' + _rnd(props[4] * v) / v + ',' + _rnd(props[5] * v) / v + ',' + _rnd(props[12] * v) / v + ',' + _rnd(props[13] * v) / v + \")\";\n        }\n\n        function MatrixInstance() {\n          this.reset = reset;\n          this.rotate = rotate;\n          this.rotateX = rotateX;\n          this.rotateY = rotateY;\n          this.rotateZ = rotateZ;\n          this.skew = skew;\n          this.skewFromAxis = skewFromAxis;\n          this.shear = shear;\n          this.scale = scale;\n          this.setTransform = setTransform;\n          this.translate = translate;\n          this.transform = transform;\n          this.applyToPoint = applyToPoint;\n          this.applyToX = applyToX;\n          this.applyToY = applyToY;\n          this.applyToZ = applyToZ;\n          this.applyToPointArray = applyToPointArray;\n          this.applyToTriplePoints = applyToTriplePoints;\n          this.applyToPointStringified = applyToPointStringified;\n          this.toCSS = toCSS;\n          this.to2dCSS = to2dCSS;\n          this.clone = clone;\n          this.cloneFromProps = cloneFromProps;\n          this.equals = equals;\n          this.inversePoints = inversePoints;\n          this.inversePoint = inversePoint;\n          this._t = this.transform;\n          this.isIdentity = isIdentity;\n          this._identity = true;\n          this._identityCalculated = false;\n          this.props = createTypedArray('float32', 16);\n          this.reset();\n        }\n\n        ;\n        return function () {\n          return new MatrixInstance();\n        };\n      }();\n\n      module.exports = Matrix;\n    }, {\n      \"./typedArrays\": 9\n    }],\n    9: [function (require, module, exports) {\n      'use strict';\n\n      var createTypedArray = function () {\n        function createRegularArray(type, len) {\n          var i = 0,\n              arr = [],\n              value;\n\n          switch (type) {\n            case 'int16':\n            case 'uint8c':\n              value = 1;\n              break;\n\n            default:\n              value = 1.1;\n              break;\n          }\n\n          for (i = 0; i < len; i += 1) {\n            arr.push(value);\n          }\n\n          return arr;\n        }\n\n        function createTypedArray(type, len) {\n          if (type === 'float32') {\n            return new Float32Array(len);\n          } else if (type === 'int16') {\n            return new Int16Array(len);\n          } else if (type === 'uint8c') {\n            return new Uint8ClampedArray(len);\n          }\n        }\n\n        if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\n          return createTypedArray;\n        } else {\n          return createRegularArray;\n        }\n      }();\n\n      module.exports = createTypedArray;\n    }, {}],\n    10: [function (require, module, exports) {\n      'use strict';\n\n      var AnimationItem = require('./animation/AnimationItem');\n\n      function createAnimationApi(anim) {\n        return Object.assign({}, AnimationItem(anim));\n      }\n\n      module.exports = {\n        createAnimationApi: createAnimationApi\n      };\n    }, {\n      \"./animation/AnimationItem\": 1\n    }],\n    11: [function (require, module, exports) {\n      'use strict';\n\n      var keyPathBuilder = require('../helpers/keyPathBuilder');\n\n      var layer_types = require('../enums/layer_types');\n\n      function KeyPathList(elements, node_type) {\n        function _getLength() {\n          return elements.length;\n        }\n\n        function _filterLayerByType(elements, type) {\n          return elements.filter(function (element) {\n            return element.getTargetLayer().data.ty === layer_types[type];\n          });\n        }\n\n        function _filterLayerByName(elements, name) {\n          return elements.filter(function (element) {\n            return element.getTargetLayer().data.nm === name;\n          });\n        }\n\n        function _filterLayerByProperty(elements, name) {\n          return elements.filter(function (element) {\n            if (element.hasProperty(name)) {\n              return element.getProperty(name);\n            }\n\n            return false;\n          });\n        }\n\n        function getLayersByType(selector) {\n          return KeyPathList(_filterLayerByType(elements, selector), 'layer');\n        }\n\n        function getLayersByName(selector) {\n          return KeyPathList(_filterLayerByName(elements, selector), 'layer');\n        }\n\n        function getPropertiesBySelector(selector) {\n          return KeyPathList(elements.filter(function (element) {\n            return element.hasProperty(selector);\n          }).map(function (element) {\n            return element.getProperty(selector);\n          }), 'property');\n        }\n\n        function getLayerProperty(selector) {\n          var layers = _filterLayerByProperty(elements, selector);\n\n          var properties = layers.map(function (element) {\n            return element.getProperty(selector);\n          });\n          return KeyPathList(properties, 'property');\n        }\n\n        function getKeyPath(propertyPath) {\n          var keyPathData = keyPathBuilder(propertyPath);\n          var selector = keyPathData.selector;\n          var nodesByName, nodesByType, selectedNodes;\n\n          if (node_type === 'renderer' || node_type === 'layer') {\n            nodesByName = getLayersByName(selector);\n            nodesByType = getLayersByType(selector);\n\n            if (nodesByName.length === 0 && nodesByType.length === 0) {\n              selectedNodes = getLayerProperty(selector);\n            } else {\n              selectedNodes = nodesByName.concat(nodesByType);\n            }\n\n            if (keyPathData.propertyPath) {\n              return selectedNodes.getKeyPath(keyPathData.propertyPath);\n            } else {\n              return selectedNodes;\n            }\n          } else if (node_type === 'property') {\n            selectedNodes = getPropertiesBySelector(selector);\n\n            if (keyPathData.propertyPath) {\n              return selectedNodes.getKeyPath(keyPathData.propertyPath);\n            } else {\n              return selectedNodes;\n            }\n          }\n        }\n\n        function concat(nodes) {\n          var nodesElements = nodes.getElements();\n          return KeyPathList(elements.concat(nodesElements), node_type);\n        }\n\n        function getElements() {\n          return elements;\n        }\n\n        function getPropertyAtIndex(index) {\n          return elements[index];\n        }\n\n        var methods = {\n          getKeyPath: getKeyPath,\n          concat: concat,\n          getElements: getElements,\n          getPropertyAtIndex: getPropertyAtIndex\n        };\n        Object.defineProperty(methods, 'length', {\n          get: _getLength\n        });\n        return methods;\n      }\n\n      module.exports = KeyPathList;\n    }, {\n      \"../enums/layer_types\": 3,\n      \"../helpers/keyPathBuilder\": 5\n    }],\n    12: [function (require, module, exports) {\n      'use strict';\n\n      var key_path_separator = require('../enums/key_path_separator');\n\n      var property_names = require('../enums/property_names');\n\n      function KeyPathNode(state) {\n        function getPropertyByPath(selector, propertyPath) {\n          var instanceProperties = state.properties || [];\n          var i = 0,\n              len = instanceProperties.length;\n\n          while (i < len) {\n            if (instanceProperties[i].name === selector) {\n              return instanceProperties[i].value;\n            }\n\n            i += 1;\n          }\n\n          return null;\n        }\n\n        function hasProperty(selector) {\n          return !!getPropertyByPath(selector);\n        }\n\n        function getProperty(selector) {\n          return getPropertyByPath(selector);\n        }\n\n        function fromKeypathLayerPoint(point) {\n          return state.parent.fromKeypathLayerPoint(point);\n        }\n\n        function toKeypathLayerPoint(point) {\n          return state.parent.toKeypathLayerPoint(point);\n        }\n\n        var methods = {\n          hasProperty: hasProperty,\n          getProperty: getProperty,\n          fromKeypathLayerPoint: fromKeypathLayerPoint,\n          toKeypathLayerPoint: toKeypathLayerPoint\n        };\n        return methods;\n      }\n\n      module.exports = KeyPathNode;\n    }, {\n      \"../enums/key_path_separator\": 2,\n      \"../enums/property_names\": 4\n    }],\n    13: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../key_path/KeyPathNode');\n\n      var Transform = require('./transform/Transform');\n\n      var Effects = require('./effects/Effects');\n\n      var Matrix = require('../helpers/transformationMatrix');\n\n      function LayerBase(state) {\n        var transform = Transform(state.element.finalTransform.mProp, state);\n        var effects = Effects(state.element.effectsManager.effectElements || [], state);\n\n        function _buildPropertyMap() {\n          state.properties.push({\n            name: 'transform',\n            value: transform\n          }, {\n            name: 'Transform',\n            value: transform\n          }, {\n            name: 'Effects',\n            value: effects\n          }, {\n            name: 'effects',\n            value: effects\n          });\n        }\n\n        function getElementToPoint(point) {}\n\n        function toKeypathLayerPoint(point) {\n          var element = state.element;\n\n          if (state.parent.toKeypathLayerPoint) {\n            point = state.parent.toKeypathLayerPoint(point);\n          }\n\n          var toWorldMat = Matrix();\n          var transformMat = state.getProperty('Transform').getTargetTransform();\n          transformMat.applyToMatrix(toWorldMat);\n\n          if (element.hierarchy && element.hierarchy.length) {\n            var i,\n                len = element.hierarchy.length;\n\n            for (i = 0; i < len; i += 1) {\n              element.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\n            }\n          }\n\n          return toWorldMat.inversePoint(point);\n        }\n\n        function fromKeypathLayerPoint(point) {\n          var element = state.element;\n          var toWorldMat = Matrix();\n          var transformMat = state.getProperty('Transform').getTargetTransform();\n          transformMat.applyToMatrix(toWorldMat);\n\n          if (element.hierarchy && element.hierarchy.length) {\n            var i,\n                len = element.hierarchy.length;\n\n            for (i = 0; i < len; i += 1) {\n              element.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\n            }\n          }\n\n          point = toWorldMat.applyToPointArray(point[0], point[1], point[2] || 0);\n\n          if (state.parent.fromKeypathLayerPoint) {\n            return state.parent.fromKeypathLayerPoint(point);\n          } else {\n            return point;\n          }\n        }\n\n        function getTargetLayer() {\n          return state.element;\n        }\n\n        var methods = {\n          getTargetLayer: getTargetLayer,\n          toKeypathLayerPoint: toKeypathLayerPoint,\n          fromKeypathLayerPoint: fromKeypathLayerPoint\n        };\n\n        _buildPropertyMap();\n\n        return Object.assign(state, KeyPathNode(state), methods);\n      }\n\n      module.exports = LayerBase;\n    }, {\n      \"../helpers/transformationMatrix\": 8,\n      \"../key_path/KeyPathNode\": 12,\n      \"./effects/Effects\": 19,\n      \"./transform/Transform\": 39\n    }],\n    14: [function (require, module, exports) {\n      'use strict';\n\n      var layer_types = require('../enums/layer_types');\n\n      var layer_api = require('../helpers/layerAPIBuilder');\n\n      function LayerList(elements) {\n        function _getLength() {\n          return elements.length;\n        }\n\n        function _filterLayerByType(elements, type) {\n          return elements.filter(function (element) {\n            return element.data.ty === layer_types[type];\n          });\n        }\n\n        function _filterLayerByName(elements, name) {\n          return elements.filter(function (element) {\n            return element.data.nm === name;\n          });\n        }\n\n        function getLayers() {\n          return LayerList(elements);\n        }\n\n        function getLayersByType(type) {\n          var elementsList = _filterLayerByType(elements, type);\n\n          return LayerList(elementsList);\n        }\n\n        function getLayersByName(type) {\n          var elementsList = _filterLayerByName(elements, type);\n\n          return LayerList(elementsList);\n        }\n\n        function layer(index) {\n          if (index >= elements.length) {\n            return [];\n          }\n\n          return layer_api(elements[parseInt(index)]);\n        }\n\n        function addIteratableMethods(iteratableMethods, list) {\n          iteratableMethods.reduce(function (accumulator, value) {\n            var _value = value;\n\n            accumulator[value] = function () {\n              var _arguments = arguments;\n              return elements.map(function (element) {\n                var layer = layer_api(element);\n\n                if (layer[_value]) {\n                  return layer[_value].apply(null, _arguments);\n                }\n\n                return null;\n              });\n            };\n\n            return accumulator;\n          }, methods);\n        }\n\n        function getTargetElements() {\n          return elements;\n        }\n\n        function concat(list) {\n          return elements.concat(list.getTargetElements());\n        }\n\n        var methods = {\n          getLayers: getLayers,\n          getLayersByType: getLayersByType,\n          getLayersByName: getLayersByName,\n          layer: layer,\n          concat: concat,\n          getTargetElements: getTargetElements\n        };\n        addIteratableMethods(['setTranslate', 'getType', 'getDuration']);\n        addIteratableMethods(['setText', 'getText', 'setDocumentData', 'canResizeFont', 'setMinimumFontSize']);\n        Object.defineProperty(methods, 'length', {\n          get: _getLength\n        });\n        return methods;\n      }\n\n      module.exports = LayerList;\n    }, {\n      \"../enums/layer_types\": 3,\n      \"../helpers/layerAPIBuilder\": 6\n    }],\n    15: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n\n      var Property = require('../../property/Property');\n\n      function Camera(element, parent) {\n        var instance = {};\n        var state = {\n          element: element,\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n\n        function _buildPropertyMap() {\n          return [{\n            name: 'Point of Interest',\n            value: Property(element.a, parent)\n          }, {\n            name: 'Zoom',\n            value: Property(element.pe, parent)\n          }, {\n            name: 'Position',\n            value: Property(element.p, parent)\n          }, {\n            name: 'X Rotation',\n            value: Property(element.rx, parent)\n          }, {\n            name: 'Y Rotation',\n            value: Property(element.ry, parent)\n          }, {\n            name: 'Z Rotation',\n            value: Property(element.rz, parent)\n          }, {\n            name: 'Orientation',\n            value: Property(element.or, parent)\n          }];\n        }\n\n        function getTargetLayer() {\n          return state.element;\n        }\n\n        var methods = {\n          getTargetLayer: getTargetLayer\n        };\n        return Object.assign(instance, KeyPathNode(state), methods);\n      }\n\n      module.exports = Camera;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    16: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathList = require('../../key_path/KeyPathList');\n\n      var LayerBase = require('../LayerBase');\n\n      var layer_api = require('../../helpers/layerAPIBuilder');\n\n      var Property = require('../../property/Property');\n\n      var TimeRemap = require('./TimeRemap');\n\n      function Composition(element, parent) {\n        var instance = {};\n        var state = {\n          element: element,\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n\n        function buildLayerApi(layer, index) {\n          var _layerApi = null;\n          var ob = {\n            name: layer.nm\n          };\n\n          function getLayerApi() {\n            if (!_layerApi) {\n              _layerApi = layer_api(element.elements[index], state);\n            }\n\n            return _layerApi;\n          }\n\n          Object.defineProperty(ob, 'value', {\n            get: getLayerApi\n          });\n          return ob;\n        }\n\n        function _buildPropertyMap() {\n          var compositionLayers = element.layers.map(buildLayerApi);\n          return [{\n            name: 'Time Remap',\n            value: TimeRemap(element.tm)\n          }].concat(compositionLayers);\n        }\n\n        var methods = {};\n        return Object.assign(instance, LayerBase(state), KeyPathList(state.elements, 'layer'), methods);\n      }\n\n      module.exports = Composition;\n    }, {\n      \"../../helpers/layerAPIBuilder\": 6,\n      \"../../key_path/KeyPathList\": 11,\n      \"../../property/Property\": 40,\n      \"../LayerBase\": 13,\n      \"./TimeRemap\": 17\n    }],\n    17: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n\n      var ValueProperty = require('../../property/ValueProperty');\n\n      function TimeRemap(property, parent) {\n        var state = {\n          property: property,\n          parent: parent\n        };\n        var _isCallbackAdded = false;\n        var currentSegmentInit = 0;\n        var currentSegmentEnd = 0;\n        var previousTime = 0,\n            currentTime = 0;\n        var initTime = 0;\n        var _loop = true;\n        var _loopCount = 0;\n        var _speed = 1;\n        var _paused = false;\n        var _isDebugging = false;\n        var queuedSegments = [];\n\n        var _destroyFunction;\n\n        var enterFrameCallback = null;\n        var enterFrameEvent = {\n          time: -1\n        };\n\n        function playSegment(init, end, clear) {\n          _paused = false;\n\n          if (clear) {\n            clearQueue();\n            currentTime = init;\n          }\n\n          if (_isDebugging) {\n            console.log(init, end);\n          }\n\n          _loopCount = 0;\n          previousTime = Date.now();\n          currentSegmentInit = init;\n          currentSegmentEnd = end;\n          addCallback();\n        }\n\n        function playQueuedSegment() {\n          var newSegment = queuedSegments.shift();\n          playSegment(newSegment[0], newSegment[1]);\n        }\n\n        function queueSegment(init, end) {\n          queuedSegments.push([init, end]);\n        }\n\n        function clearQueue() {\n          queuedSegments.length = 0;\n        }\n\n        function _segmentPlayer(currentValue) {\n          if (currentSegmentInit === currentSegmentEnd) {\n            currentTime = currentSegmentInit;\n          } else if (!_paused) {\n            var nowTime = Date.now();\n            var elapsedTime = _speed * (nowTime - previousTime) / 1000;\n            previousTime = nowTime;\n\n            if (currentSegmentInit < currentSegmentEnd) {\n              currentTime += elapsedTime;\n\n              if (currentTime > currentSegmentEnd) {\n                _loopCount += 1;\n\n                if (queuedSegments.length) {\n                  playQueuedSegment();\n                } else if (!_loop) {\n                  currentTime = currentSegmentEnd;\n                } else {\n                  /*currentTime -= Math.floor(currentTime / (currentSegmentEnd - currentSegmentInit)) * (currentSegmentEnd - currentSegmentInit);\n                  currentTime = currentSegmentInit + currentTime;*/\n                  currentTime = currentTime % (currentSegmentEnd - currentSegmentInit); //currentTime = currentSegmentInit + (currentTime);\n                  //currentTime = currentSegmentInit + (currentTime - currentSegmentEnd);\n                  //console.log('CT: ', currentTime) \n                }\n              }\n            } else {\n              currentTime -= elapsedTime;\n\n              if (currentTime < currentSegmentEnd) {\n                _loopCount += 1;\n\n                if (queuedSegments.length) {\n                  playQueuedSegment();\n                } else if (!_loop) {\n                  currentTime = currentSegmentEnd;\n                } else {\n                  currentTime = currentSegmentInit - (currentSegmentEnd - currentTime);\n                }\n              }\n            }\n\n            if (_isDebugging) {\n              console.log(currentTime);\n            }\n          }\n\n          if (instance.onEnterFrame && enterFrameEvent.time !== currentTime) {\n            enterFrameEvent.time = currentTime;\n            instance.onEnterFrame(enterFrameEvent);\n          }\n\n          return currentTime;\n        }\n\n        function addCallback() {\n          if (!_isCallbackAdded) {\n            _isCallbackAdded = true;\n            _destroyFunction = instance.setValue(_segmentPlayer, _isDebugging);\n          }\n        }\n\n        function playTo(end, clear) {\n          _paused = false;\n\n          if (clear) {\n            clearQueue();\n          }\n\n          addCallback();\n          currentSegmentEnd = end;\n        }\n\n        function getCurrentTime() {\n          if (_isCallbackAdded) {\n            return currentTime;\n          } else {\n            return property.v / property.mult;\n          }\n        }\n\n        function setLoop(flag) {\n          _loop = flag;\n        }\n\n        function setSpeed(value) {\n          _speed = value;\n        }\n\n        function setDebugging(flag) {\n          _isDebugging = flag;\n        }\n\n        function pause() {\n          _paused = true;\n        }\n\n        function destroy() {\n          if (_destroyFunction) {\n            _destroyFunction();\n\n            state.property = null;\n            state.parent = null;\n          }\n        }\n\n        var methods = {\n          playSegment: playSegment,\n          playTo: playTo,\n          queueSegment: queueSegment,\n          clearQueue: clearQueue,\n          setLoop: setLoop,\n          setSpeed: setSpeed,\n          pause: pause,\n          setDebugging: setDebugging,\n          getCurrentTime: getCurrentTime,\n          onEnterFrame: null,\n          destroy: destroy\n        };\n        var instance = {};\n        return Object.assign(instance, methods, ValueProperty(state), KeyPathNode(state));\n      }\n\n      module.exports = TimeRemap;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/ValueProperty\": 41\n    }],\n    18: [function (require, module, exports) {\n      'use strict';\n\n      var Property = require('../../property/Property');\n\n      function EffectElement(effect, parent) {\n        return Property(effect.p, parent);\n      }\n\n      module.exports = EffectElement;\n    }, {\n      \"../../property/Property\": 40\n    }],\n    19: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n\n      var Property = require('../../property/Property');\n\n      var EffectElement = require('./EffectElement');\n\n      function Effects(effects, parent) {\n        var state = {\n          parent: parent,\n          properties: buildProperties()\n        };\n\n        function getValue(effectData, index) {\n          var nm = effectData.data ? effectData.data.nm : index.toString();\n          var effectElement = effectData.data ? Effects(effectData.effectElements, parent) : Property(effectData.p, parent);\n          return {\n            name: nm,\n            value: effectElement\n          };\n        }\n\n        function buildProperties() {\n          var i,\n              len = effects.length;\n          var arr = [];\n\n          for (i = 0; i < len; i += 1) {\n            arr.push(getValue(effects[i], i));\n          }\n\n          return arr;\n        }\n\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n\n      module.exports = Effects;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40,\n      \"./EffectElement\": 18\n    }],\n    20: [function (require, module, exports) {\n      'use strict';\n\n      var LayerBase = require('../LayerBase');\n\n      function Image(element) {\n        var state = {\n          element: element,\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n\n        function _buildPropertyMap() {\n          return [];\n        }\n\n        var methods = {};\n        return Object.assign({}, LayerBase(state), methods);\n      }\n\n      module.exports = Image;\n    }, {\n      \"../LayerBase\": 13\n    }],\n    21: [function (require, module, exports) {\n      'use strict';\n\n      var LayerBase = require('../LayerBase');\n\n      function NullElement(element, parent) {\n        var instance = {};\n        var state = {\n          element: element,\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n\n        function _buildPropertyMap() {\n          return [];\n        }\n\n        var methods = {};\n        return Object.assign(instance, LayerBase(state), methods);\n      }\n\n      module.exports = NullElement;\n    }, {\n      \"../LayerBase\": 13\n    }],\n    22: [function (require, module, exports) {\n      'use strict';\n\n      var LayerBase = require('../LayerBase');\n\n      var ShapeContents = require('./ShapeContents');\n\n      function Shape(element, parent) {\n        var state = {\n          properties: [],\n          parent: parent,\n          element: element\n        };\n        var shapeContents = ShapeContents(element.data.shapes, element.itemsData, state);\n\n        function _buildPropertyMap() {\n          state.properties.push({\n            name: 'Contents',\n            value: shapeContents\n          });\n        }\n\n        var methods = {};\n\n        _buildPropertyMap();\n\n        return Object.assign(state, LayerBase(state), methods);\n      }\n\n      module.exports = Shape;\n    }, {\n      \"../LayerBase\": 13,\n      \"./ShapeContents\": 23\n    }],\n    23: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n\n      var Property = require('../../property/Property');\n\n      var ShapeRectangle = require('./ShapeRectangle');\n\n      var ShapeFill = require('./ShapeFill');\n\n      var ShapeStroke = require('./ShapeStroke');\n\n      var ShapeEllipse = require('./ShapeEllipse');\n\n      var ShapeGradientFill = require('./ShapeGradientFill');\n\n      var ShapeGradientStroke = require('./ShapeGradientStroke');\n\n      var ShapeTrimPaths = require('./ShapeTrimPaths');\n\n      var ShapeRepeater = require('./ShapeRepeater');\n\n      var ShapePolystar = require('./ShapePolystar');\n\n      var ShapeRoundCorners = require('./ShapeRoundCorners');\n\n      var ShapePath = require('./ShapePath');\n\n      var Transform = require('../transform/Transform');\n\n      var Matrix = require('../../helpers/transformationMatrix');\n\n      function ShapeContents(shapesData, shapes, parent) {\n        var state = {\n          properties: _buildPropertyMap(),\n          parent: parent\n        };\n        var cachedShapeProperties = [];\n\n        function buildShapeObject(shape, index) {\n          var ob = {\n            name: shape.nm\n          };\n          Object.defineProperty(ob, 'value', {\n            get: function get() {\n              if (cachedShapeProperties[index]) {\n                return cachedShapeProperties[index];\n              } else {\n                var property;\n              }\n\n              if (shape.ty === 'gr') {\n                property = ShapeContents(shapesData[index].it, shapes[index].it, state);\n              } else if (shape.ty === 'rc') {\n                property = ShapeRectangle(shapes[index], state);\n              } else if (shape.ty === 'el') {\n                property = ShapeEllipse(shapes[index], state);\n              } else if (shape.ty === 'fl') {\n                property = ShapeFill(shapes[index], state);\n              } else if (shape.ty === 'st') {\n                property = ShapeStroke(shapes[index], state);\n              } else if (shape.ty === 'gf') {\n                property = ShapeGradientFill(shapes[index], state);\n              } else if (shape.ty === 'gs') {\n                property = ShapeGradientStroke(shapes[index], state);\n              } else if (shape.ty === 'tm') {\n                property = ShapeTrimPaths(shapes[index], state);\n              } else if (shape.ty === 'rp') {\n                property = ShapeRepeater(shapes[index], state);\n              } else if (shape.ty === 'sr') {\n                property = ShapePolystar(shapes[index], state);\n              } else if (shape.ty === 'rd') {\n                property = ShapeRoundCorners(shapes[index], state);\n              } else if (shape.ty === 'sh') {\n                property = ShapePath(shapes[index], state);\n              } else if (shape.ty === 'tr') {\n                property = Transform(shapes[index].transform.mProps, state);\n              } else {\n                console.log(shape.ty);\n              }\n\n              cachedShapeProperties[index] = property;\n              return property;\n            }\n          });\n          return ob;\n        }\n\n        function _buildPropertyMap() {\n          return shapesData.map(function (shape, index) {\n            return buildShapeObject(shape, index);\n          });\n        }\n\n        function fromKeypathLayerPoint(point) {\n          if (state.hasProperty('Transform')) {\n            var toWorldMat = Matrix();\n            var transformMat = state.getProperty('Transform').getTargetTransform();\n            transformMat.applyToMatrix(toWorldMat);\n            point = toWorldMat.applyToPointArray(point[0], point[1], point[2] || 0);\n          }\n\n          return state.parent.fromKeypathLayerPoint(point);\n        }\n\n        function toKeypathLayerPoint(point) {\n          point = state.parent.toKeypathLayerPoint(point);\n\n          if (state.hasProperty('Transform')) {\n            var toWorldMat = Matrix();\n            var transformMat = state.getProperty('Transform').getTargetTransform();\n            transformMat.applyToMatrix(toWorldMat);\n            point = toWorldMat.inversePoint(point);\n          }\n\n          return point;\n        }\n\n        var methods = {\n          fromKeypathLayerPoint: fromKeypathLayerPoint,\n          toKeypathLayerPoint: toKeypathLayerPoint //state.properties = _buildPropertyMap();\n\n        };\n        return Object.assign(state, KeyPathNode(state), methods);\n      }\n\n      module.exports = ShapeContents;\n    }, {\n      \"../../helpers/transformationMatrix\": 8,\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40,\n      \"../transform/Transform\": 39,\n      \"./ShapeEllipse\": 24,\n      \"./ShapeFill\": 25,\n      \"./ShapeGradientFill\": 26,\n      \"./ShapeGradientStroke\": 27,\n      \"./ShapePath\": 28,\n      \"./ShapePolystar\": 29,\n      \"./ShapeRectangle\": 30,\n      \"./ShapeRepeater\": 31,\n      \"./ShapeRoundCorners\": 32,\n      \"./ShapeStroke\": 33,\n      \"./ShapeTrimPaths\": 34\n    }],\n    24: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n\n      var Property = require('../../property/Property');\n\n      function ShapeEllipse(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n\n        function _buildPropertyMap() {\n          return [{\n            name: 'Size',\n            value: Property(element.sh.s, parent)\n          }, {\n            name: 'Position',\n            value: Property(element.sh.p, parent)\n          }];\n        }\n\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n\n      module.exports = ShapeEllipse;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    25: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n\n      var Property = require('../../property/Property');\n\n      function ShapeFill(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n\n        function _buildPropertyMap() {\n          return [{\n            name: 'Color',\n            value: Property(element.c, parent)\n          }, {\n            name: 'Opacity',\n            value: {\n              setValue: Property(element.o, parent)\n            }\n          }];\n        }\n\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n\n      module.exports = ShapeFill;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    26: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n\n      var Property = require('../../property/Property');\n\n      function ShapeGradientFill(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n\n        function _buildPropertyMap() {\n          return [{\n            name: 'Start Point',\n            value: Property(element.s, parent)\n          }, {\n            name: 'End Point',\n            value: Property(element.s, parent)\n          }, {\n            name: 'Opacity',\n            value: Property(element.o, parent)\n          }, {\n            name: 'Highlight Length',\n            value: Property(element.h, parent)\n          }, {\n            name: 'Highlight Angle',\n            value: Property(element.a, parent)\n          }, {\n            name: 'Colors',\n            value: Property(element.g.prop, parent)\n          }];\n        }\n\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n\n      module.exports = ShapeGradientFill;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    27: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n\n      var Property = require('../../property/Property');\n\n      function ShapeGradientStroke(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n\n        function _buildPropertyMap() {\n          return [{\n            name: 'Start Point',\n            value: Property(element.s, parent)\n          }, {\n            name: 'End Point',\n            value: Property(element.e, parent)\n          }, {\n            name: 'Opacity',\n            value: Property(element.o, parent)\n          }, {\n            name: 'Highlight Length',\n            value: Property(element.h, parent)\n          }, {\n            name: 'Highlight Angle',\n            value: Property(element.a, parent)\n          }, {\n            name: 'Colors',\n            value: Property(element.g.prop, parent)\n          }, {\n            name: 'Stroke Width',\n            value: Property(element.w, parent)\n          }];\n        }\n\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n\n      module.exports = ShapeGradientStroke;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    28: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n\n      var Property = require('../../property/Property');\n\n      function ShapePath(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n\n        function setPath(value) {\n          Property(element.sh).setValue(value);\n        }\n\n        function _buildPropertyMap() {\n          return [{\n            name: 'path',\n            value: Property(element.sh, parent)\n          }];\n        }\n\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n\n      module.exports = ShapePath;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    29: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n\n      var Property = require('../../property/Property');\n\n      function ShapePolystar(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n\n        function _buildPropertyMap() {\n          return [{\n            name: 'Points',\n            value: Property(element.sh.pt, parent)\n          }, {\n            name: 'Position',\n            value: Property(element.sh.p, parent)\n          }, {\n            name: 'Rotation',\n            value: Property(element.sh.r, parent)\n          }, {\n            name: 'Inner Radius',\n            value: Property(element.sh.ir, parent)\n          }, {\n            name: 'Outer Radius',\n            value: Property(element.sh.or, parent)\n          }, {\n            name: 'Inner Roundness',\n            value: Property(element.sh.is, parent)\n          }, {\n            name: 'Outer Roundness',\n            value: Property(element.sh.os, parent)\n          }];\n        }\n\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n\n      module.exports = ShapePolystar;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    30: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n\n      var Property = require('../../property/Property');\n\n      function ShapeRectangle(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n\n        function _buildPropertyMap() {\n          return [{\n            name: 'Size',\n            value: Property(element.sh.s, parent)\n          }, {\n            name: 'Position',\n            value: Property(element.sh.p, parent)\n          }, {\n            name: 'Roundness',\n            value: Property(element.sh.r, parent)\n          }];\n        }\n\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n\n      module.exports = ShapeRectangle;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    31: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n\n      var Property = require('../../property/Property');\n\n      var Transform = require('../transform/Transform');\n\n      function ShapeRepeater(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n\n        function _buildPropertyMap() {\n          return [{\n            name: 'Copies',\n            value: Property(element.c, parent)\n          }, {\n            name: 'Offset',\n            value: Property(element.o, parent)\n          }, {\n            name: 'Transform',\n            value: Transform(element.tr, parent)\n          }];\n        }\n\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n\n      module.exports = ShapeRepeater;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40,\n      \"../transform/Transform\": 39\n    }],\n    32: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n\n      var Property = require('../../property/Property');\n\n      function ShapeRoundCorners(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n\n        function _buildPropertyMap() {\n          return [{\n            name: 'Radius',\n            value: Property(element.rd, parent)\n          }];\n        }\n\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n\n      module.exports = ShapeRoundCorners;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    33: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n\n      var Property = require('../../property/Property');\n\n      function ShapeStroke(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n\n        function _buildPropertyMap() {\n          return [{\n            name: 'Color',\n            value: Property(element.c, parent)\n          }, {\n            name: 'Stroke Width',\n            value: Property(element.w, parent)\n          }, {\n            name: 'Opacity',\n            value: Property(element.o, parent)\n          }];\n        }\n\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n\n      module.exports = ShapeStroke;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    34: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n\n      var Property = require('../../property/Property');\n\n      function ShapeTrimPaths(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n\n        function _buildPropertyMap() {\n          return [{\n            name: 'Start',\n            value: Property(element.s, parent)\n          }, {\n            name: 'End',\n            value: Property(element.e, parent)\n          }, {\n            name: 'Offset',\n            value: Property(element.o, parent)\n          }];\n        }\n\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n\n      module.exports = ShapeTrimPaths;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    35: [function (require, module, exports) {\n      'use strict';\n\n      var LayerBase = require('../LayerBase');\n\n      function Solid(element, parent) {\n        var state = {\n          element: element,\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n\n        function _buildPropertyMap() {\n          return [];\n        }\n\n        var methods = {};\n        return Object.assign({}, LayerBase(state), methods);\n      }\n\n      module.exports = Solid;\n    }, {\n      \"../LayerBase\": 13\n    }],\n    36: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n\n      var Property = require('../../property/Property');\n\n      var TextAnimator = require('./TextAnimator');\n\n      function Text(element, parent) {\n        var instance = {};\n        var state = {\n          element: element,\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n\n        function setDocumentData(_function) {\n          var previousValue;\n\n          var textDocumentUpdater = function textDocumentUpdater(data) {\n            var newValue = _function(element.textProperty.currentData);\n\n            if (previousValue !== newValue) {\n              previousValue = newValue;\n              return Object.assign({}, data, newValue, {\n                __complete: false\n              });\n            }\n\n            return data;\n          };\n\n          element.textProperty.addEffect(textDocumentUpdater);\n        }\n\n        function addAnimators() {\n          var animatorProperties = [];\n          var animators = element.textAnimator._animatorsData;\n          var i,\n              len = animators.length;\n          var textAnimator;\n\n          for (i = 0; i < len; i += 1) {\n            textAnimator = TextAnimator(animators[i]);\n            animatorProperties.push({\n              name: element.textAnimator._textData.a[i].nm || 'Animator ' + (i + 1),\n              //Fallback for old animations\n              value: textAnimator\n            });\n          }\n\n          return animatorProperties;\n        }\n\n        function _buildPropertyMap() {\n          return [{\n            name: 'Source',\n            value: {\n              setValue: setDocumentData\n            }\n          }].concat(addAnimators());\n        }\n\n        var methods = {};\n        return Object.assign(instance, methods, KeyPathNode(state));\n      }\n\n      module.exports = Text;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40,\n      \"./TextAnimator\": 37\n    }],\n    37: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n\n      var Property = require('../../property/Property');\n\n      function TextAnimator(animator) {\n        var instance = {};\n        var state = {\n          properties: _buildPropertyMap()\n        };\n\n        function setAnchorPoint(value) {\n          Property(animator.a.a).setValue(value);\n        }\n\n        function setFillBrightness(value) {\n          Property(animator.a.fb).setValue(value);\n        }\n\n        function setFillColor(value) {\n          Property(animator.a.fc).setValue(value);\n        }\n\n        function setFillHue(value) {\n          Property(animator.a.fh).setValue(value);\n        }\n\n        function setFillSaturation(value) {\n          Property(animator.a.fs).setValue(value);\n        }\n\n        function setFillOpacity(value) {\n          Property(animator.a.fo).setValue(value);\n        }\n\n        function setOpacity(value) {\n          Property(animator.a.o).setValue(value);\n        }\n\n        function setPosition(value) {\n          Property(animator.a.p).setValue(value);\n        }\n\n        function setRotation(value) {\n          Property(animator.a.r).setValue(value);\n        }\n\n        function setRotationX(value) {\n          Property(animator.a.rx).setValue(value);\n        }\n\n        function setRotationY(value) {\n          Property(animator.a.ry).setValue(value);\n        }\n\n        function setScale(value) {\n          Property(animator.a.s).setValue(value);\n        }\n\n        function setSkewAxis(value) {\n          Property(animator.a.sa).setValue(value);\n        }\n\n        function setStrokeColor(value) {\n          Property(animator.a.sc).setValue(value);\n        }\n\n        function setSkew(value) {\n          Property(animator.a.sk).setValue(value);\n        }\n\n        function setStrokeOpacity(value) {\n          Property(animator.a.so).setValue(value);\n        }\n\n        function setStrokeWidth(value) {\n          Property(animator.a.sw).setValue(value);\n        }\n\n        function setStrokeBrightness(value) {\n          Property(animator.a.sb).setValue(value);\n        }\n\n        function setStrokeHue(value) {\n          Property(animator.a.sh).setValue(value);\n        }\n\n        function setStrokeSaturation(value) {\n          Property(animator.a.ss).setValue(value);\n        }\n\n        function setTrackingAmount(value) {\n          Property(animator.a.t).setValue(value);\n        }\n\n        function _buildPropertyMap() {\n          return [{\n            name: 'Anchor Point',\n            value: {\n              setValue: setAnchorPoint\n            }\n          }, {\n            name: 'Fill Brightness',\n            value: {\n              setValue: setFillBrightness\n            }\n          }, {\n            name: 'Fill Color',\n            value: {\n              setValue: setFillColor\n            }\n          }, {\n            name: 'Fill Hue',\n            value: {\n              setValue: setFillHue\n            }\n          }, {\n            name: 'Fill Saturation',\n            value: {\n              setValue: setFillSaturation\n            }\n          }, {\n            name: 'Fill Opacity',\n            value: {\n              setValue: setFillOpacity\n            }\n          }, {\n            name: 'Opacity',\n            value: {\n              setValue: setOpacity\n            }\n          }, {\n            name: 'Position',\n            value: {\n              setValue: setPosition\n            }\n          }, {\n            name: 'Rotation X',\n            value: {\n              setValue: setRotationX\n            }\n          }, {\n            name: 'Rotation Y',\n            value: {\n              setValue: setRotationY\n            }\n          }, {\n            name: 'Scale',\n            value: {\n              setValue: setScale\n            }\n          }, {\n            name: 'Skew Axis',\n            value: {\n              setValue: setSkewAxis\n            }\n          }, {\n            name: 'Stroke Color',\n            value: {\n              setValue: setStrokeColor\n            }\n          }, {\n            name: 'Skew',\n            value: {\n              setValue: setSkew\n            }\n          }, {\n            name: 'Stroke Width',\n            value: {\n              setValue: setStrokeWidth\n            }\n          }, {\n            name: 'Tracking Amount',\n            value: {\n              setValue: setTrackingAmount\n            }\n          }, {\n            name: 'Stroke Opacity',\n            value: {\n              setValue: setStrokeOpacity\n            }\n          }, {\n            name: 'Stroke Brightness',\n            value: {\n              setValue: setStrokeBrightness\n            }\n          }, {\n            name: 'Stroke Saturation',\n            value: {\n              setValue: setStrokeSaturation\n            }\n          }, {\n            name: 'Stroke Hue',\n            value: {\n              setValue: setStrokeHue\n            }\n          }];\n        }\n\n        var methods = {};\n        return Object.assign(instance, methods, KeyPathNode(state));\n      }\n\n      module.exports = TextAnimator;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    38: [function (require, module, exports) {\n      'use strict';\n\n      var LayerBase = require('../LayerBase');\n\n      var Text = require('./Text');\n\n      function TextElement(element) {\n        var instance = {};\n        var TextProperty = Text(element);\n        var state = {\n          element: element,\n          properties: _buildPropertyMap()\n        };\n\n        function _buildPropertyMap() {\n          return [{\n            name: 'text',\n            value: TextProperty\n          }, {\n            name: 'Text',\n            value: TextProperty\n          }];\n        }\n\n        function getText() {\n          return element.textProperty.currentData.t;\n        }\n\n        function setText(value, index) {\n          setDocumentData({\n            t: value\n          }, index);\n        }\n\n        function setDocumentData(data, index) {\n          return element.updateDocumentData(data, index);\n        }\n\n        function canResizeFont(_canResize) {\n          return element.canResizeFont(_canResize);\n        }\n\n        function setMinimumFontSize(_fontSize) {\n          return element.setMinimumFontSize(_fontSize);\n        }\n\n        var methods = {\n          getText: getText,\n          setText: setText,\n          canResizeFont: canResizeFont,\n          setDocumentData: setDocumentData,\n          setMinimumFontSize: setMinimumFontSize\n        };\n        return Object.assign(instance, LayerBase(state), methods);\n      }\n\n      module.exports = TextElement;\n    }, {\n      \"../LayerBase\": 13,\n      \"./Text\": 36\n    }],\n    39: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n\n      var Property = require('../../property/Property');\n\n      function Transform(props, parent) {\n        var state = {\n          properties: _buildPropertyMap()\n        };\n\n        function _buildPropertyMap() {\n          return [{\n            name: 'Anchor Point',\n            value: Property(props.a, parent)\n          }, {\n            name: 'Point of Interest',\n            value: Property(props.a, parent)\n          }, {\n            name: 'Position',\n            value: Property(props.p, parent)\n          }, {\n            name: 'Scale',\n            value: Property(props.s, parent)\n          }, {\n            name: 'Rotation',\n            value: Property(props.r, parent)\n          }, {\n            name: 'X Position',\n            value: Property(props.px, parent)\n          }, {\n            name: 'Y Position',\n            value: Property(props.py, parent)\n          }, {\n            name: 'Z Position',\n            value: Property(props.pz, parent)\n          }, {\n            name: 'X Rotation',\n            value: Property(props.rx, parent)\n          }, {\n            name: 'Y Rotation',\n            value: Property(props.ry, parent)\n          }, {\n            name: 'Z Rotation',\n            value: Property(props.rz, parent)\n          }, {\n            name: 'Opacity',\n            value: Property(props.o, parent)\n          }];\n        }\n\n        function getTargetTransform() {\n          return props;\n        }\n\n        var methods = {\n          getTargetTransform: getTargetTransform\n        };\n        return Object.assign(methods, KeyPathNode(state));\n      }\n\n      module.exports = Transform;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    40: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../key_path/KeyPathNode');\n\n      var ValueProperty = require('./ValueProperty');\n\n      function Property(property, parent) {\n        var state = {\n          property: property,\n          parent: parent\n        };\n\n        function destroy() {\n          state.property = null;\n          state.parent = null;\n        }\n\n        var methods = {\n          destroy: destroy\n        };\n        return Object.assign({}, methods, ValueProperty(state), KeyPathNode(state));\n      }\n\n      module.exports = Property;\n    }, {\n      \"../key_path/KeyPathNode\": 12,\n      \"./ValueProperty\": 41\n    }],\n    41: [function (require, module, exports) {\n      'use strict';\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      function ValueProperty(state) {\n        function setValue(value) {\n          var property = state.property;\n\n          if (!property || !property.addEffect) {\n            return;\n          }\n\n          if (typeof value === 'function') {\n            return property.addEffect(value);\n          } else if (property.propType === 'multidimensional' && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.length === 2) {\n            return property.addEffect(function () {\n              return value;\n            });\n          } else if (property.propType === 'unidimensional' && typeof value === 'number') {\n            return property.addEffect(function () {\n              return value;\n            });\n          }\n        }\n\n        function getValue() {\n          return state.property.v;\n        }\n\n        var methods = {\n          setValue: setValue,\n          getValue: getValue\n        };\n        return methods;\n      }\n\n      module.exports = ValueProperty;\n    }, {}],\n    42: [function (require, module, exports) {\n      'use strict';\n\n      var LayerList = require('../layer/LayerList');\n\n      var KeyPathList = require('../key_path/KeyPathList');\n\n      function Renderer(state) {\n        state._type = 'renderer';\n\n        function getRendererType() {\n          return state.animation.animType;\n        }\n\n        return Object.assign({\n          getRendererType: getRendererType\n        }, LayerList(state.elements), KeyPathList(state.elements, 'renderer'));\n      }\n\n      module.exports = Renderer;\n    }, {\n      \"../key_path/KeyPathList\": 11,\n      \"../layer/LayerList\": 14\n    }]\n  }, {}, [10])(10);\n});","map":{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/animation/AnimationItem.js","src/enums/key_path_separator.js","src/enums/layer_types.js","src/enums/property_names.js","src/helpers/keyPathBuilder.js","src/helpers/layerAPIBuilder.js","src/helpers/stringSanitizer.js","src/helpers/transformationMatrix.js","src/helpers/typedArrays.js","src/index.js","src/key_path/KeyPathList.js","src/key_path/KeyPathNode.js","src/layer/LayerBase.js","src/layer/LayerList.js","src/layer/camera/Camera.js","src/layer/composition/Composition.js","src/layer/composition/TimeRemap.js","src/layer/effects/EffectElement.js","src/layer/effects/Effects.js","src/layer/image/ImageElement.js","src/layer/null_element/NullElement.js","src/layer/shape/Shape.js","src/layer/shape/ShapeContents.js","src/layer/shape/ShapeEllipse.js","src/layer/shape/ShapeFill.js","src/layer/shape/ShapeGradientFill.js","src/layer/shape/ShapeGradientStroke.js","src/layer/shape/ShapePath.js","src/layer/shape/ShapePolystar.js","src/layer/shape/ShapeRectangle.js","src/layer/shape/ShapeRepeater.js","src/layer/shape/ShapeRoundCorners.js","src/layer/shape/ShapeStroke.js","src/layer/shape/ShapeTrimPaths.js","src/layer/solid/SolidElement.js","src/layer/text/Text.js","src/layer/text/TextAnimator.js","src/layer/text/TextElement.js","src/layer/transform/Transform.js","src/property/Property.js","src/property/ValueProperty.js","src/renderer/Renderer.js"],"names":[],"mappings":"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","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","var Renderer = require('../renderer/Renderer');\r\nvar layer_api = require('../helpers/layerAPIBuilder');\r\n\r\nfunction AnimationItemFactory(animation) {\r\n\r\n\tvar state = {\r\n\t\tanimation: animation,\r\n\t\telements: animation.renderer.elements.map((item) => layer_api(item, animation)),\r\n\t\tboundingRect: null,\r\n\t\tscaleData: null\r\n\t}\r\n\r\n\tfunction getCurrentFrame() {\r\n\t\treturn animation.currentFrame;\r\n\t}\r\n\r\n\tfunction getCurrentTime() {\r\n\t\treturn animation.currentFrame / animation.frameRate;\r\n\t}\r\n\r\n\tfunction addValueCallback(properties, value) {\r\n\t\tvar i, len = properties.length;\r\n\t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\tproperties.getPropertyAtIndex(i).setValue(value);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction toKeypathLayerPoint(properties, point) {\r\n\t\tvar i, len = properties.length;\r\n\t\tvar points = [];\r\n\t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\tpoints.push(properties.getPropertyAtIndex(i).toKeypathLayerPoint(point));\r\n\t\t}\r\n\t\tif(points.length === 1) {\r\n\t\t\treturn points[0];\r\n\t\t}\r\n\t\treturn points;\r\n\t}\r\n\r\n\tfunction fromKeypathLayerPoint(properties, point) {\r\n\t\tvar i, len = properties.length;\r\n\t\tvar points = [];\r\n\t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\tpoints.push(properties.getPropertyAtIndex(i).fromKeypathLayerPoint(point));\r\n\t\t}\r\n\t\tif(points.length === 1) {\r\n\t\t\treturn points[0];\r\n\t\t}\r\n\t\treturn points;\r\n\t}\r\n\r\n\tfunction calculateScaleData(boundingRect) {\r\n\t\tvar compWidth = animation.animationData.w;\r\n        var compHeight = animation.animationData.h;\r\n\t\tvar compRel = compWidth / compHeight;\r\n        var elementWidth = boundingRect.width;\r\n        var elementHeight = boundingRect.height;\r\n        var elementRel = elementWidth / elementHeight;\r\n        var scale,scaleXOffset,scaleYOffset;\r\n        var xAlignment, yAlignment, scaleMode;\r\n        var aspectRatio = animation.renderer.renderConfig.preserveAspectRatio.split(' ');\r\n        if(aspectRatio[1] === 'meet') {\r\n        \tscale = elementRel > compRel ? elementHeight / compHeight : elementWidth / compWidth;\r\n        } else {\r\n        \tscale = elementRel > compRel ? elementWidth / compWidth : elementHeight / compHeight;\r\n        }\r\n        xAlignment = aspectRatio[0].substr(0,4);\r\n        yAlignment = aspectRatio[0].substr(4);\r\n        if(xAlignment === 'xMin') {\r\n        \tscaleXOffset = 0;\r\n        } else if(xAlignment === 'xMid') {\r\n        \tscaleXOffset = (elementWidth - compWidth * scale) / 2;\r\n        } else {\r\n        \tscaleXOffset = (elementWidth - compWidth * scale);\r\n        }\r\n\r\n        if(yAlignment === 'YMin') {\r\n\t        scaleYOffset = 0;\r\n        } else if(yAlignment === 'YMid') {\r\n\t        scaleYOffset = (elementHeight - compHeight * scale) / 2;\r\n        } else {\r\n\t        scaleYOffset = (elementHeight - compHeight * scale);\r\n        }\r\n        return {\r\n        \tscaleYOffset: scaleYOffset,\r\n        \tscaleXOffset: scaleXOffset,\r\n        \tscale: scale\r\n        }\r\n\t}\r\n\r\n\tfunction recalculateSize(container) {\r\n\t\tvar container = animation.wrapper;\r\n\t\tstate.boundingRect = container.getBoundingClientRect();\r\n\t\tstate.scaleData = calculateScaleData(state.boundingRect);\r\n\t}\r\n\r\n\tfunction toContainerPoint(point) {\r\n\t\tif(!animation.wrapper || !animation.wrapper.getBoundingClientRect) {\r\n\t\t\treturn point;\r\n\t\t}\r\n\t\tif(!state.boundingRect) {\r\n\t\t\trecalculateSize();\r\n\t\t}\r\n\r\n\t\tvar boundingRect = state.boundingRect;\r\n\t\tvar newPoint = [point[0] - boundingRect.left, point[1] - boundingRect.top];\r\n\t\tvar scaleData = state.scaleData;\r\n\r\n        newPoint[0] = (newPoint[0] - scaleData.scaleXOffset) / scaleData.scale;\r\n        newPoint[1] = (newPoint[1] - scaleData.scaleYOffset) / scaleData.scale;\r\n\r\n\t\treturn newPoint;\r\n\t}\r\n\r\n\tfunction fromContainerPoint(point) {\r\n\t\tif(!animation.wrapper || !animation.wrapper.getBoundingClientRect) {\r\n\t\t\treturn point;\r\n\t\t}\r\n\t\tif(!state.boundingRect) {\r\n\t\t\trecalculateSize();\r\n\t\t}\r\n\t\tvar boundingRect = state.boundingRect;\r\n\t\tvar scaleData = state.scaleData;\r\n\r\n\t\tvar newPoint = [point[0] * scaleData.scale + scaleData.scaleXOffset, point[1] * scaleData.scale + scaleData.scaleYOffset];\r\n\r\n\t\tvar newPoint = [newPoint[0] + boundingRect.left, newPoint[1] + boundingRect.top];\r\n\t\treturn newPoint;\r\n\t}\r\n\r\n\tfunction getScaleData() {\r\n\t\treturn state.scaleData;\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\trecalculateSize: recalculateSize,\r\n\t\tgetScaleData: getScaleData,\r\n\t\ttoContainerPoint: toContainerPoint,\r\n\t\tfromContainerPoint: fromContainerPoint,\r\n\t\tgetCurrentFrame: getCurrentFrame,\r\n\t\tgetCurrentTime: getCurrentTime,\r\n\t\taddValueCallback: addValueCallback,\r\n\t\ttoKeypathLayerPoint: toKeypathLayerPoint,\r\n\t\tfromKeypathLayerPoint: fromKeypathLayerPoint\r\n\t}\r\n\r\n\treturn Object.assign({}, Renderer(state), methods);\r\n}\r\n\r\nmodule.exports = AnimationItemFactory;","module.exports = ',';","module.exports = {\r\n\t 0: 0,\r\n\t 1: 1,\r\n\t 2: 2,\r\n\t 3: 3,\r\n\t 4: 4,\r\n\t 5: 5,\r\n\t 13: 13,\r\n\t'comp': 0,\r\n\t'composition': 0,\r\n\t'solid': 1,\r\n\t'image': 2,\r\n\t'null': 3,\r\n\t'shape': 4,\r\n\t'text': 5,\r\n\t'camera': 13\r\n}","module.exports = {\r\n\tLAYER_TRANSFORM: 'transform'\r\n}","var key_path_separator = require('../enums/key_path_separator');\r\nvar sanitizeString = require('./stringSanitizer');\r\n\r\nmodule.exports = function(propertyPath) {\r\n\tvar keyPathSplit = propertyPath.split(key_path_separator);\r\n\tvar selector = keyPathSplit.shift();\r\n\treturn {\r\n\t\tselector: sanitizeString(selector),\r\n\t\tpropertyPath: keyPathSplit.join(key_path_separator)\r\n\t}\r\n}","var TextElement = require('../layer/text/TextElement');\r\nvar ShapeElement = require('../layer/shape/Shape');\r\nvar NullElement = require('../layer/null_element/NullElement');\r\nvar SolidElement = require('../layer/solid/SolidElement');\r\nvar ImageElement = require('../layer/image/ImageElement');\r\nvar CameraElement = require('../layer/camera/Camera');\r\nvar LayerBase = require('../layer/LayerBase');\r\n\r\n\r\nmodule.exports = function getLayerApi(element, parent) {\r\n\tvar layerType = element.data.ty;\r\n\tvar Composition = require('../layer/composition/Composition');\r\n\tswitch(layerType) {\r\n\t\tcase 0:\r\n\t\treturn Composition(element, parent);\r\n\t\tcase 1:\r\n\t\treturn SolidElement(element, parent);\r\n\t\tcase 2:\r\n\t\treturn ImageElement(element, parent);\r\n\t\tcase 3:\r\n\t\treturn NullElement(element, parent);\r\n\t\tcase 4:\r\n\t\treturn ShapeElement(element, parent, element.data.shapes, element.itemsData);\r\n\t\tcase 5:\r\n\t\treturn TextElement(element, parent);\r\n\t\tcase 13:\r\n\t\treturn CameraElement(element, parent);\r\n\t\tdefault:\r\n\t\treturn LayerBase(element, parent);\r\n\t}\r\n}","function sanitizeString(string) {\r\n\treturn string.trim();\r\n}\r\n\r\nmodule.exports = sanitizeString","var createTypedArray = require('./typedArrays')\r\n\r\n/*!\r\n Transformation Matrix v2.0\r\n (c) Epistemex 2014-2015\r\n www.epistemex.com\r\n By Ken Fyrstenberg\r\n Contributions by leeoniya.\r\n License: MIT, header required.\r\n */\r\n\r\n/**\r\n * 2D transformation matrix object initialized with identity matrix.\r\n *\r\n * The matrix can synchronize a canvas context by supplying the context\r\n * as an argument, or later apply current absolute transform to an\r\n * existing context.\r\n *\r\n * All values are handled as floating point values.\r\n *\r\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n * @prop {number} a - scale x\r\n * @prop {number} b - shear y\r\n * @prop {number} c - shear x\r\n * @prop {number} d - scale y\r\n * @prop {number} e - translate x\r\n * @prop {number} f - translate y\r\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n * @constructor\r\n */\r\n\r\nvar Matrix = (function(){\r\n\r\n    var _cos = Math.cos;\r\n    var _sin = Math.sin;\r\n    var _tan = Math.tan;\r\n    var _rnd = Math.round;\r\n\r\n    function reset(){\r\n        this.props[0] = 1;\r\n        this.props[1] = 0;\r\n        this.props[2] = 0;\r\n        this.props[3] = 0;\r\n        this.props[4] = 0;\r\n        this.props[5] = 1;\r\n        this.props[6] = 0;\r\n        this.props[7] = 0;\r\n        this.props[8] = 0;\r\n        this.props[9] = 0;\r\n        this.props[10] = 1;\r\n        this.props[11] = 0;\r\n        this.props[12] = 0;\r\n        this.props[13] = 0;\r\n        this.props[14] = 0;\r\n        this.props[15] = 1;\r\n        return this;\r\n    }\r\n\r\n    function rotate(angle) {\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateX(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin,  mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateY(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos,  0,  mSin, 0, 0, 1, 0, 0, -mSin,  0,  mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateZ(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function shear(sx,sy){\r\n        return this._t(1, sy, sx, 1, 0, 0);\r\n    }\r\n\r\n    function skew(ax, ay){\r\n        return this.shear(_tan(ax), _tan(ay));\r\n    }\r\n\r\n    function skewFromAxis(ax, angle){\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, mSin,  0, 0, -mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\r\n            ._t(1, 0,  0, 0, _tan(ax),  1, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\r\n            ._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n        //return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\r\n    }\r\n\r\n    function scale(sx, sy, sz) {\r\n        sz = isNaN(sz) ? 1 : sz;\r\n        if(sx == 1 && sy == 1 && sz == 1){\r\n            return this;\r\n        }\r\n        return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\r\n        this.props[0] = a;\r\n        this.props[1] = b;\r\n        this.props[2] = c;\r\n        this.props[3] = d;\r\n        this.props[4] = e;\r\n        this.props[5] = f;\r\n        this.props[6] = g;\r\n        this.props[7] = h;\r\n        this.props[8] = i;\r\n        this.props[9] = j;\r\n        this.props[10] = k;\r\n        this.props[11] = l;\r\n        this.props[12] = m;\r\n        this.props[13] = n;\r\n        this.props[14] = o;\r\n        this.props[15] = p;\r\n        return this;\r\n    }\r\n\r\n    function translate(tx, ty, tz) {\r\n        tz = tz || 0;\r\n        if(tx !== 0 || ty !== 0 || tz !== 0){\r\n            return this._t(1,0,0,0,0,1,0,0,0,0,1,0,tx,ty,tz,1);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\r\n\r\n        var _p = this.props;\r\n\r\n        if(a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0){\r\n            //NOTE: commenting this condition because TurboFan deoptimizes code when present\r\n            //if(m2 !== 0 || n2 !== 0 || o2 !== 0){\r\n                _p[12] = _p[12] * a2 + _p[15] * m2;\r\n                _p[13] = _p[13] * f2 + _p[15] * n2;\r\n                _p[14] = _p[14] * k2 + _p[15] * o2;\r\n                _p[15] = _p[15] * p2;\r\n            //}\r\n            this._identityCalculated = false;\r\n            return this;\r\n        }\r\n\r\n        var a1 = _p[0];\r\n        var b1 = _p[1];\r\n        var c1 = _p[2];\r\n        var d1 = _p[3];\r\n        var e1 = _p[4];\r\n        var f1 = _p[5];\r\n        var g1 = _p[6];\r\n        var h1 = _p[7];\r\n        var i1 = _p[8];\r\n        var j1 = _p[9];\r\n        var k1 = _p[10];\r\n        var l1 = _p[11];\r\n        var m1 = _p[12];\r\n        var n1 = _p[13];\r\n        var o1 = _p[14];\r\n        var p1 = _p[15];\r\n\r\n        /* matrix order (canvas compatible):\r\n         * ace\r\n         * bdf\r\n         * 001\r\n         */\r\n        _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\r\n        _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2 ;\r\n        _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2 ;\r\n        _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2 ;\r\n\r\n        _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2 ;\r\n        _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2 ;\r\n        _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2 ;\r\n        _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2 ;\r\n\r\n        _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2 ;\r\n        _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2 ;\r\n        _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2 ;\r\n        _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2 ;\r\n\r\n        _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2 ;\r\n        _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2 ;\r\n        _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2 ;\r\n        _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2 ;\r\n\r\n        this._identityCalculated = false;\r\n        return this;\r\n    }\r\n\r\n    function isIdentity() {\r\n        if(!this._identityCalculated){\r\n            this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\r\n            this._identityCalculated = true;\r\n        }\r\n        return this._identity;\r\n    }\r\n\r\n    function equals(matr){\r\n        var i = 0;\r\n        while (i < 16) {\r\n            if(matr.props[i] !== this.props[i]) {\r\n                return false;\r\n            }\r\n            i+=1;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function clone(matr){\r\n        var i;\r\n        for(i=0;i<16;i+=1){\r\n            matr.props[i] = this.props[i];\r\n        }\r\n    }\r\n\r\n    function cloneFromProps(props){\r\n        var i;\r\n        for(i=0;i<16;i+=1){\r\n            this.props[i] = props[i];\r\n        }\r\n    }\r\n\r\n    function applyToPoint(x, y, z) {\r\n\r\n        return {\r\n            x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n            y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n            z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\r\n        };\r\n        /*return {\r\n         x: x * me.a + y * me.c + me.e,\r\n         y: x * me.b + y * me.d + me.f\r\n         };*/\r\n    }\r\n    function applyToX(x, y, z) {\r\n        return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\r\n    }\r\n    function applyToY(x, y, z) {\r\n        return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\r\n    }\r\n    function applyToZ(x, y, z) {\r\n        return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\r\n    }\r\n\r\n    function inversePoint(pt) {\r\n        var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\r\n        var a = this.props[5]/determinant;\r\n        var b = - this.props[1]/determinant;\r\n        var c = - this.props[4]/determinant;\r\n        var d = this.props[0]/determinant;\r\n        var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12])/determinant;\r\n        var f = - (this.props[0] * this.props[13] - this.props[1] * this.props[12])/determinant;\r\n        return [pt[0] * a + pt[1] * c + e, pt[0] * b + pt[1] * d + f, 0];\r\n    }\r\n\r\n    function inversePoints(pts){\r\n        var i, len = pts.length, retPts = [];\r\n        for(i=0;i<len;i+=1){\r\n            retPts[i] = inversePoint(pts[i]);\r\n        }\r\n        return retPts;\r\n    }\r\n\r\n    function applyToTriplePoints(pt1, pt2, pt3) {\r\n        var arr = createTypedArray('float32', 6);\r\n        if(this.isIdentity()) {\r\n            arr[0] = pt1[0];\r\n            arr[1] = pt1[1];\r\n            arr[2] = pt2[0];\r\n            arr[3] = pt2[1];\r\n            arr[4] = pt3[0];\r\n            arr[5] = pt3[1];\r\n        } else {\r\n            var p0 = this.props[0], p1 = this.props[1], p4 = this.props[4], p5 = this.props[5], p12 = this.props[12], p13 = this.props[13];\r\n            arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\r\n            arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\r\n            arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\r\n            arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\r\n            arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\r\n            arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function applyToPointArray(x,y,z){\r\n        var arr;\r\n        if(this.isIdentity()) {\r\n            arr = [x,y,z];\r\n        } else {\r\n            arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function applyToPointStringified(x, y) {\r\n        if(this.isIdentity()) {\r\n            return x + ',' + y;\r\n        }\r\n        return (x * this.props[0] + y * this.props[4] + this.props[12])+','+(x * this.props[1] + y * this.props[5] + this.props[13]);\r\n    }\r\n\r\n    function toCSS() {\r\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n        /*if(this.isIdentity()) {\r\n            return '';\r\n        }*/\r\n        var i = 0;\r\n        var props = this.props;\r\n        var cssValue = 'matrix3d(';\r\n        var v = 10000;\r\n        while(i<16){\r\n            cssValue += _rnd(props[i]*v)/v;\r\n            cssValue += i === 15 ? ')':',';\r\n            i += 1;\r\n        }\r\n        return cssValue;\r\n    }\r\n\r\n    function to2dCSS() {\r\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n        /*if(this.isIdentity()) {\r\n            return '';\r\n        }*/\r\n        var v = 10000;\r\n        var props = this.props;\r\n        return \"matrix(\" + _rnd(props[0]*v)/v + ',' + _rnd(props[1]*v)/v + ',' + _rnd(props[4]*v)/v + ',' + _rnd(props[5]*v)/v + ',' + _rnd(props[12]*v)/v + ',' + _rnd(props[13]*v)/v + \")\";\r\n    }\r\n\r\n    function MatrixInstance(){\r\n        this.reset = reset;\r\n        this.rotate = rotate;\r\n        this.rotateX = rotateX;\r\n        this.rotateY = rotateY;\r\n        this.rotateZ = rotateZ;\r\n        this.skew = skew;\r\n        this.skewFromAxis = skewFromAxis;\r\n        this.shear = shear;\r\n        this.scale = scale;\r\n        this.setTransform = setTransform;\r\n        this.translate = translate;\r\n        this.transform = transform;\r\n        this.applyToPoint = applyToPoint;\r\n        this.applyToX = applyToX;\r\n        this.applyToY = applyToY;\r\n        this.applyToZ = applyToZ;\r\n        this.applyToPointArray = applyToPointArray;\r\n        this.applyToTriplePoints = applyToTriplePoints;\r\n        this.applyToPointStringified = applyToPointStringified;\r\n        this.toCSS = toCSS;\r\n        this.to2dCSS = to2dCSS;\r\n        this.clone = clone;\r\n        this.cloneFromProps = cloneFromProps;\r\n        this.equals = equals;\r\n        this.inversePoints = inversePoints;\r\n        this.inversePoint = inversePoint;\r\n        this._t = this.transform;\r\n        this.isIdentity = isIdentity;\r\n        this._identity = true;\r\n        this._identityCalculated = false;\r\n\r\n        this.props = createTypedArray('float32', 16);\r\n        this.reset();\r\n    };\r\n\r\n    return function() {\r\n        return new MatrixInstance()\r\n    }\r\n}());\r\n\r\nmodule.exports = Matrix;","var createTypedArray = (function(){\r\n\tfunction createRegularArray(type, len){\r\n\t\tvar i = 0, arr = [], value;\r\n\t\tswitch(type) {\r\n\t\t\tcase 'int16':\r\n\t\t\tcase 'uint8c':\r\n\t\t\t\tvalue = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tvalue = 1.1;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tarr.push(value);\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\tfunction createTypedArray(type, len){\r\n\t\tif(type === 'float32') {\r\n\t\t\treturn new Float32Array(len);\r\n\t\t} else if(type === 'int16') {\r\n\t\t\treturn new Int16Array(len);\r\n\t\t} else if(type === 'uint8c') {\r\n\t\t\treturn new Uint8ClampedArray(len);\r\n\t\t}\r\n\t}\r\n\tif(typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\r\n\t\treturn createTypedArray;\r\n\t} else {\r\n\t\treturn createRegularArray;\r\n\t}\r\n}());\r\n\r\nmodule.exports = createTypedArray;\r\n","var AnimationItem = require('./animation/AnimationItem');\r\n\r\nfunction createAnimationApi(anim) {\r\n\treturn Object.assign({}, AnimationItem(anim));\r\n}\r\n\r\nmodule.exports = {\r\n\tcreateAnimationApi : createAnimationApi\r\n}","var keyPathBuilder = require('../helpers/keyPathBuilder');\r\nvar layer_types = require('../enums/layer_types');\r\n\r\nfunction KeyPathList(elements, node_type) {\r\n\r\n\tfunction _getLength() {\r\n\t\treturn elements.length;\r\n\t}\r\n\r\n\tfunction _filterLayerByType(elements, type) {\r\n\t\treturn elements.filter(function(element) {\r\n\t\t\treturn element.getTargetLayer().data.ty === layer_types[type];\r\n\t\t});\r\n\t}\r\n\r\n\tfunction _filterLayerByName(elements, name) {\r\n\t\treturn elements.filter(function(element) {\r\n\t\t\treturn element.getTargetLayer().data.nm === name;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction _filterLayerByProperty(elements, name) {\r\n\t\treturn elements.filter(function(element) {\r\n\t\t\tif(element.hasProperty(name)) {\r\n\t\t\t\treturn element.getProperty(name);\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction getLayersByType(selector) {\r\n\t\treturn KeyPathList(_filterLayerByType(elements, selector), 'layer');\r\n\t}\r\n\r\n\tfunction getLayersByName(selector) {\r\n\t\treturn KeyPathList(_filterLayerByName(elements, selector), 'layer');\r\n\t}\r\n\r\n\tfunction getPropertiesBySelector(selector) {\r\n\t\treturn KeyPathList(elements.filter(function(element) {\r\n\t\t\treturn element.hasProperty(selector);\r\n\t\t}).map(function(element) {\r\n\t\t\treturn element.getProperty(selector);\r\n\t\t}), 'property');\r\n\t}\r\n\r\n\tfunction getLayerProperty(selector) {\r\n\t\tvar layers = _filterLayerByProperty(elements, selector);\r\n\t\tvar properties = layers.map(function(element){\r\n\t\t\treturn element.getProperty(selector);\r\n\t\t})\r\n\t\treturn KeyPathList(properties, 'property');\r\n\t}\r\n\r\n\tfunction getKeyPath(propertyPath) {\r\n\t\tvar keyPathData = keyPathBuilder(propertyPath);\r\n\t\tvar selector = keyPathData.selector;\r\n\t\tvar nodesByName, nodesByType, selectedNodes;\r\n\t\tif (node_type === 'renderer' || node_type === 'layer') {\r\n\t\t\tnodesByName = getLayersByName(selector);\r\n\t\t\tnodesByType = getLayersByType(selector);\r\n\t\t\tif (nodesByName.length === 0 && nodesByType.length === 0) {\r\n\t\t\t\tselectedNodes = getLayerProperty(selector);\r\n\t\t\t} else {\r\n\t\t\t\tselectedNodes = nodesByName.concat(nodesByType);\r\n\t\t\t}\r\n\t\t\tif (keyPathData.propertyPath) {\r\n\t\t\t\treturn selectedNodes.getKeyPath(keyPathData.propertyPath);\r\n\t\t\t} else {\r\n\t\t\t\treturn selectedNodes;\r\n\t\t\t}\r\n\t\t} else if(node_type === 'property') {\r\n\t\t\tselectedNodes = getPropertiesBySelector(selector);\r\n\t\t\tif (keyPathData.propertyPath) {\r\n\t\t\t\treturn selectedNodes.getKeyPath(keyPathData.propertyPath);\r\n\t\t\t} else {\r\n\t\t\t\treturn selectedNodes;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction concat(nodes) {\r\n\t\tvar nodesElements = nodes.getElements();\r\n\t\treturn KeyPathList(elements.concat(nodesElements), node_type);\r\n\t}\r\n\r\n\tfunction getElements() {\r\n\t\treturn elements;\r\n\t}\r\n\r\n\tfunction getPropertyAtIndex(index) {\r\n\t\treturn elements[index];\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tgetKeyPath: getKeyPath,\r\n\t\tconcat: concat,\r\n\t\tgetElements: getElements,\r\n\t\tgetPropertyAtIndex: getPropertyAtIndex\r\n\t}\r\n\r\n\tObject.defineProperty(methods, 'length', {\r\n\t\tget: _getLength\r\n\t});\r\n\r\n\treturn methods;\r\n}\r\n\r\nmodule.exports = KeyPathList;","var key_path_separator = require('../enums/key_path_separator');\r\nvar property_names = require('../enums/property_names');\r\n\r\nfunction KeyPathNode(state) {\r\n\r\n\tfunction getPropertyByPath(selector, propertyPath) {\r\n\t\tvar instanceProperties = state.properties || [];\r\n\t\tvar i = 0, len = instanceProperties.length;\r\n\t\twhile(i < len) {\r\n\t\t\tif(instanceProperties[i].name === selector) {\r\n\t\t\t\treturn instanceProperties[i].value;\r\n\t\t\t}\r\n\t\t\ti += 1;\r\n\t\t}\r\n\t\treturn null;\r\n\r\n\t}\r\n\r\n\tfunction hasProperty(selector) {\r\n\t\treturn !!getPropertyByPath(selector);\r\n\t}\r\n\r\n\tfunction getProperty(selector) {\r\n\t\treturn getPropertyByPath(selector);\r\n\t}\r\n\r\n\tfunction fromKeypathLayerPoint(point) {\r\n\t\treturn state.parent.fromKeypathLayerPoint(point);\r\n\t}\r\n\r\n\tfunction toKeypathLayerPoint(point) {\r\n\t\treturn state.parent.toKeypathLayerPoint(point);\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\thasProperty: hasProperty,\r\n\t\tgetProperty: getProperty,\r\n\t\tfromKeypathLayerPoint: fromKeypathLayerPoint,\r\n\t\ttoKeypathLayerPoint: toKeypathLayerPoint\r\n\t}\r\n\treturn methods;\r\n}\r\n\r\nmodule.exports = KeyPathNode;","var KeyPathNode = require('../key_path/KeyPathNode');\r\nvar Transform = require('./transform/Transform');\r\nvar Effects = require('./effects/Effects');\r\nvar Matrix = require('../helpers/transformationMatrix');\r\n\r\nfunction LayerBase(state) {\r\n\r\n\tvar transform = Transform(state.element.finalTransform.mProp, state);\r\n\tvar effects = Effects(state.element.effectsManager.effectElements || [], state);\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\tstate.properties.push({\r\n\t\t\tname: 'transform',\r\n\t\t\tvalue: transform\r\n\t\t},{\r\n\t\t\tname: 'Transform',\r\n\t\t\tvalue: transform\r\n\t\t},{\r\n\t\t\tname: 'Effects',\r\n\t\t\tvalue: effects\r\n\t\t},{\r\n\t\t\tname: 'effects',\r\n\t\t\tvalue: effects\r\n\t\t})\r\n\t}\r\n\r\n    function getElementToPoint(point) {\r\n    }\r\n\r\n\tfunction toKeypathLayerPoint(point) {\r\n\t\tvar element = state.element;\r\n    \tif(state.parent.toKeypathLayerPoint) {\r\n        \tpoint = state.parent.toKeypathLayerPoint(point);\r\n        }\r\n    \tvar toWorldMat = Matrix();\r\n        var transformMat = state.getProperty('Transform').getTargetTransform();\r\n        transformMat.applyToMatrix(toWorldMat);\r\n        if(element.hierarchy && element.hierarchy.length){\r\n            var i, len = element.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                element.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n        }\r\n        return toWorldMat.inversePoint(point);\r\n\t}\r\n\r\n\tfunction fromKeypathLayerPoint(point) {\r\n\t\tvar element = state.element;\r\n\t\tvar toWorldMat = Matrix();\r\n        var transformMat = state.getProperty('Transform').getTargetTransform();\r\n        transformMat.applyToMatrix(toWorldMat);\r\n        if(element.hierarchy && element.hierarchy.length){\r\n            var i, len = element.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                element.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n        }\r\n        point = toWorldMat.applyToPointArray(point[0],point[1],point[2]||0);\r\n        if(state.parent.fromKeypathLayerPoint) {\r\n        \treturn state.parent.fromKeypathLayerPoint(point);\r\n        } else {\r\n        \treturn point;\r\n        }\r\n\t}\r\n\r\n\tfunction getTargetLayer() {\r\n\t\treturn state.element;\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tgetTargetLayer: getTargetLayer,\r\n\t\ttoKeypathLayerPoint: toKeypathLayerPoint,\r\n\t\tfromKeypathLayerPoint: fromKeypathLayerPoint\r\n\t}\r\n\r\n\t_buildPropertyMap();\r\n\r\n\treturn Object.assign(state, KeyPathNode(state), methods);\r\n}\r\n\r\nmodule.exports = LayerBase;","var layer_types = require('../enums/layer_types');\r\nvar layer_api = require('../helpers/layerAPIBuilder');\r\n\r\nfunction LayerList(elements) {\r\n\r\n\tfunction _getLength() {\r\n\t\treturn elements.length;\r\n\t}\r\n\r\n\tfunction _filterLayerByType(elements, type) {\r\n\t\treturn elements.filter(function(element) {\r\n\t\t\treturn element.data.ty === layer_types[type];\r\n\t\t});\r\n\t}\r\n\r\n\tfunction _filterLayerByName(elements, name) {\r\n\t\treturn elements.filter(function(element) {\r\n\t\t\treturn element.data.nm === name;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction getLayers() {\r\n\t\t return LayerList(elements);\r\n\t}\r\n\r\n\tfunction getLayersByType(type) {\r\n\t\tvar elementsList = _filterLayerByType(elements, type);\r\n\t\treturn LayerList(elementsList);\r\n\t}\r\n\r\n\tfunction getLayersByName(type) {\r\n\t\tvar elementsList = _filterLayerByName(elements, type);\r\n\t\treturn LayerList(elementsList);\r\n\t}\r\n\r\n\tfunction layer(index) {\r\n\t\tif (index >= elements.length) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\treturn layer_api(elements[parseInt(index)]);\r\n\t}\r\n\r\n\tfunction addIteratableMethods(iteratableMethods, list) {\r\n\t\titeratableMethods.reduce(function(accumulator, value){\r\n\t\t\tvar _value = value;\r\n\t\t\taccumulator[value] = function() {\r\n\t\t\t\tvar _arguments = arguments;\r\n\t\t\t\treturn elements.map(function(element){\r\n\t\t\t\t\tvar layer = layer_api(element);\r\n\t\t\t\t\tif(layer[_value]) {\r\n\t\t\t\t\t\treturn layer[_value].apply(null, _arguments);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn accumulator;\r\n\t\t}, methods);\r\n\t}\r\n\r\n\tfunction getTargetElements() {\r\n\t\treturn elements;\r\n\t}\r\n\r\n\tfunction concat(list) {\r\n\t\treturn elements.concat(list.getTargetElements());\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tgetLayers: getLayers,\r\n\t\tgetLayersByType: getLayersByType,\r\n\t\tgetLayersByName: getLayersByName,\r\n\t\tlayer: layer,\r\n\t\tconcat: concat,\r\n\t\tgetTargetElements: getTargetElements\r\n\t};\r\n\r\n\taddIteratableMethods(['setTranslate', 'getType', 'getDuration']);\r\n\taddIteratableMethods(['setText', 'getText', 'setDocumentData', 'canResizeFont', 'setMinimumFontSize']);\r\n\r\n\tObject.defineProperty(methods, 'length', {\r\n\t\tget: _getLength\r\n\t});\r\n\treturn methods;\r\n}\r\n\r\nmodule.exports = LayerList;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction Camera(element, parent) {\r\n\r\n\tvar instance = {};\r\n\r\n\tvar state = {\r\n\t\telement: element,\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Point of Interest',\r\n\t\t\t\tvalue: Property(element.a, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Zoom',\r\n\t\t\t\tvalue: Property(element.pe, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Position',\r\n\t\t\t\tvalue: Property(element.p, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'X Rotation',\r\n\t\t\t\tvalue: Property(element.rx, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Y Rotation',\r\n\t\t\t\tvalue: Property(element.ry, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Z Rotation',\r\n\t\t\t\tvalue: Property(element.rz, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Orientation',\r\n\t\t\t\tvalue: Property(element.or, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tfunction getTargetLayer() {\r\n\t\treturn state.element;\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tgetTargetLayer: getTargetLayer\r\n\t}\r\n\r\n\treturn Object.assign(instance, KeyPathNode(state), methods);\r\n}\r\n\r\nmodule.exports = Camera;","var KeyPathList = require('../../key_path/KeyPathList');\r\nvar LayerBase = require('../LayerBase');\r\nvar layer_api = require('../../helpers/layerAPIBuilder');\r\nvar Property = require('../../property/Property');\r\nvar TimeRemap = require('./TimeRemap');\r\n\r\nfunction Composition(element, parent) {\r\n\r\n\tvar instance = {};\r\n\r\n\tvar state = {\r\n\t\telement: element,\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction buildLayerApi(layer, index) {\r\n\t\tvar _layerApi = null;\r\n\t\tvar ob = {\r\n\t\t\tname: layer.nm\r\n\t\t}\r\n\r\n\t\tfunction getLayerApi() {\r\n\t\t\tif(!_layerApi) {\r\n\t\t\t\t_layerApi = layer_api(element.elements[index], state)\r\n\t\t\t}\r\n\t\t\treturn _layerApi\r\n\t\t}\r\n\r\n\t\tObject.defineProperty(ob, 'value', {\r\n\t\t\tget : getLayerApi\r\n\t\t})\r\n\t\treturn ob;\r\n\t}\r\n\r\n\t\r\n\tfunction _buildPropertyMap() {\r\n\t\tvar compositionLayers = element.layers.map(buildLayerApi)\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Time Remap',\r\n\t\t\t\tvalue: TimeRemap(element.tm)\r\n\t\t\t}\r\n\t\t].concat(compositionLayers)\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(instance, LayerBase(state), KeyPathList(state.elements, 'layer'), methods);\r\n}\r\n\r\nmodule.exports = Composition;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar ValueProperty = require('../../property/ValueProperty');\r\n\r\nfunction TimeRemap(property, parent) {\r\n\tvar state = {\r\n\t\tproperty: property,\r\n\t\tparent: parent\r\n\t}\r\n\r\n\tvar _isCallbackAdded = false;\r\n\tvar currentSegmentInit = 0;\r\n\tvar currentSegmentEnd = 0;\r\n\tvar previousTime = 0, currentTime = 0;\r\n\tvar initTime = 0;\r\n\tvar _loop = true;\r\n\tvar _loopCount = 0;\r\n\tvar _speed = 1;\r\n\tvar _paused = false;\r\n\tvar _isDebugging = false;\r\n\tvar queuedSegments = [];\r\n\tvar _destroyFunction;\r\n\tvar enterFrameCallback = null;\r\n\tvar enterFrameEvent = {\r\n\t\ttime: -1\r\n\t}\r\n\r\n\tfunction playSegment(init, end, clear) {\r\n\t\t_paused = false;\r\n\t\tif(clear) {\r\n\t\t\tclearQueue();\r\n\t\t\tcurrentTime = init;\r\n\t\t}\r\n\t\tif(_isDebugging) {\r\n\t\t\tconsole.log(init, end);\r\n\t\t}\r\n\t\t_loopCount = 0;\r\n\t\tpreviousTime = Date.now();\r\n\t\tcurrentSegmentInit = init;\r\n\t\tcurrentSegmentEnd = end;\r\n\t\taddCallback();\r\n\t}\r\n\r\n\tfunction playQueuedSegment() {\r\n\t\tvar newSegment = queuedSegments.shift();\r\n\t\tplaySegment(newSegment[0], newSegment[1]);\r\n\t}\r\n\r\n\tfunction queueSegment(init, end) {\r\n\t\tqueuedSegments.push([init, end]);\r\n\t}\r\n\r\n\tfunction clearQueue() {\r\n\t\tqueuedSegments.length = 0;\r\n\t}\r\n\r\n\tfunction _segmentPlayer(currentValue) {\r\n\t\tif(currentSegmentInit === currentSegmentEnd) {\r\n\t\t\tcurrentTime = currentSegmentInit;\r\n\t\t} else if(!_paused) {\r\n\t\t\tvar nowTime = Date.now();\r\n\t\t\tvar elapsedTime = _speed * (nowTime - previousTime) / 1000;\r\n\t\t\tpreviousTime = nowTime;\r\n\t\t\tif(currentSegmentInit < currentSegmentEnd) {\r\n\t\t\t\tcurrentTime += elapsedTime;\r\n\t\t\t\tif(currentTime > currentSegmentEnd) {\r\n\t\t\t\t\t_loopCount += 1;\r\n\t\t\t\t\tif(queuedSegments.length) {\r\n\t\t\t\t\t\tplayQueuedSegment();\r\n\t\t\t\t\t} else if(!_loop) {\r\n\t\t\t\t\t\tcurrentTime = currentSegmentEnd;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t/*currentTime -= Math.floor(currentTime / (currentSegmentEnd - currentSegmentInit)) * (currentSegmentEnd - currentSegmentInit);\r\n\t\t\t\t\t\tcurrentTime = currentSegmentInit + currentTime;*/\r\n\t\t\t\t\t\tcurrentTime = currentTime % (currentSegmentEnd - currentSegmentInit);\r\n\t\t\t\t\t\t//currentTime = currentSegmentInit + (currentTime);\r\n\t\t\t\t\t\t//currentTime = currentSegmentInit + (currentTime - currentSegmentEnd);\r\n\t\t\t\t\t\t //console.log('CT: ', currentTime) \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tcurrentTime -= elapsedTime;\r\n\t\t\t\tif(currentTime < currentSegmentEnd) {\r\n\t\t\t\t\t_loopCount += 1;\r\n\t\t\t\t\tif(queuedSegments.length) {\r\n\t\t\t\t\t\tplayQueuedSegment();\r\n\t\t\t\t\t} else if(!_loop) {\r\n\t\t\t\t\t\tcurrentTime = currentSegmentEnd;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcurrentTime = currentSegmentInit - (currentSegmentEnd - currentTime);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(_isDebugging) {\r\n\t\t\t\tconsole.log(currentTime)\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(instance.onEnterFrame && enterFrameEvent.time !== currentTime) {\r\n\t\t\tenterFrameEvent.time = currentTime;\r\n\t\t\tinstance.onEnterFrame(enterFrameEvent);\r\n\t\t}\r\n\t\treturn currentTime;\r\n\t}\r\n\r\n\tfunction addCallback() {\r\n\t\tif(!_isCallbackAdded) {\r\n\t\t\t_isCallbackAdded = true;\r\n\t\t\t_destroyFunction = instance.setValue(_segmentPlayer, _isDebugging)\r\n\t\t}\r\n\t}\r\n\r\n\tfunction playTo(end, clear) {\r\n\t\t_paused = false;\r\n\t\tif(clear) {\r\n\t\t\tclearQueue();\r\n\t\t}\r\n\t\taddCallback();\r\n\t\tcurrentSegmentEnd = end;\r\n\t}\r\n\r\n\tfunction getCurrentTime() {\r\n\t\tif(_isCallbackAdded) {\r\n\t\t\treturn currentTime;\r\n\t\t} else {\r\n\t\t\treturn property.v / property.mult;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setLoop(flag) {\r\n\t\t_loop = flag;\r\n\t}\r\n\r\n\tfunction setSpeed(value) {\r\n\t\t_speed = value;\r\n\t}\r\n\r\n\tfunction setDebugging(flag) {\r\n\t\t_isDebugging = flag;\r\n\t}\r\n\r\n\tfunction pause() {\r\n\t\t_paused = true;\r\n\t}\r\n\r\n\tfunction destroy() {\r\n\t\tif(_destroyFunction) {\r\n\t\t\t_destroyFunction();\r\n\t\t\tstate.property = null;\r\n\t\t\tstate.parent = null;\r\n\t\t}\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tplaySegment: playSegment,\r\n\t\tplayTo: playTo,\r\n\t\tqueueSegment: queueSegment,\r\n\t\tclearQueue: clearQueue,\r\n\t\tsetLoop: setLoop,\r\n\t\tsetSpeed: setSpeed,\r\n\t\tpause: pause,\r\n\t\tsetDebugging: setDebugging,\r\n\t\tgetCurrentTime: getCurrentTime,\r\n\t\tonEnterFrame: null,\r\n\t\tdestroy: destroy\r\n\t}\r\n\r\n\tvar instance = {}\r\n\r\n\treturn Object.assign(instance, methods, ValueProperty(state), KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = TimeRemap;","var Property = require('../../property/Property');\r\n\r\nfunction EffectElement(effect, parent) {\r\n\r\n\treturn Property(effect.p, parent);\r\n}\r\n\r\nmodule.exports = EffectElement;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\nvar EffectElement = require('./EffectElement');\r\n\r\nfunction Effects(effects, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: buildProperties()\r\n\t}\r\n\r\n\tfunction getValue(effectData, index) {\r\n\t\tvar nm = effectData.data ? effectData.data.nm : index.toString();\r\n\t\tvar effectElement = effectData.data ? Effects(effectData.effectElements, parent) : Property(effectData.p, parent);\r\n\t\treturn {\r\n\t\t\tname: nm,\r\n\t\t\tvalue: effectElement\r\n\t\t}\r\n\t}\r\n\r\n\tfunction buildProperties() {\r\n\t\tvar i, len = effects.length;\r\n\t\tvar arr = [];\r\n\t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\tarr.push(getValue(effects[i], i));\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = Effects;","var LayerBase = require('../LayerBase');\r\n\r\nfunction Image(element) {\r\n\r\n\tvar state = {\r\n\t\telement: element,\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t]\r\n\t}\r\n\t\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign({}, LayerBase(state), methods);\r\n}\r\n\r\nmodule.exports = Image;","var LayerBase = require('../LayerBase');\r\n\r\nfunction NullElement(element, parent) {\r\n\r\n\tvar instance = {};\r\n\r\n\tvar state = {\r\n\t\telement: element,\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(instance, LayerBase(state), methods);\r\n}\r\n\r\nmodule.exports = NullElement;","var LayerBase = require('../LayerBase');\r\nvar ShapeContents = require('./ShapeContents');\r\n\r\nfunction Shape(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tproperties: [],\r\n\t\tparent: parent,\r\n\t\telement: element\r\n\t}\r\n\tvar shapeContents = ShapeContents(element.data.shapes, element.itemsData, state);\r\n\r\n\t\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\tstate.properties.push(\r\n\t\t\t{\r\n\t\t\t\tname: 'Contents',\r\n\t\t\t\tvalue: shapeContents\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\t_buildPropertyMap();\r\n\r\n\treturn Object.assign(state, LayerBase(state), methods);\r\n}\r\n\r\nmodule.exports = Shape;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\nvar ShapeRectangle = require('./ShapeRectangle');\r\nvar ShapeFill = require('./ShapeFill');\r\nvar ShapeStroke = require('./ShapeStroke');\r\nvar ShapeEllipse = require('./ShapeEllipse');\r\nvar ShapeGradientFill = require('./ShapeGradientFill');\r\nvar ShapeGradientStroke = require('./ShapeGradientStroke');\r\nvar ShapeTrimPaths = require('./ShapeTrimPaths');\r\nvar ShapeRepeater = require('./ShapeRepeater');\r\nvar ShapePolystar = require('./ShapePolystar');\r\nvar ShapeRoundCorners = require('./ShapeRoundCorners');\r\nvar ShapePath = require('./ShapePath');\r\nvar Transform = require('../transform/Transform');\r\nvar Matrix = require('../../helpers/transformationMatrix');\r\n\r\nfunction ShapeContents(shapesData, shapes, parent) {\r\n\tvar state = {\r\n\t\tproperties: _buildPropertyMap(),\r\n\t\tparent: parent\r\n\t}\r\n\r\n\tvar cachedShapeProperties = [];\r\n\r\n\tfunction buildShapeObject(shape, index) {\r\n\t\tvar ob = {\r\n\t\t\tname: shape.nm\r\n\t\t}\r\n\t\tObject.defineProperty(ob, 'value', {\r\n\t\t   get() {\r\n\t\t   \tif(cachedShapeProperties[index]) {\r\n\t\t   \t\treturn cachedShapeProperties[index];\r\n\t\t   \t} else {\r\n\t\t   \t\tvar property;\r\n\t\t   \t}\r\n\t   \t\tif(shape.ty === 'gr') {\r\n\t   \t\t\tproperty = ShapeContents(shapesData[index].it, shapes[index].it, state);\r\n\t   \t\t} else if(shape.ty === 'rc') {\r\n\t   \t\t\tproperty = ShapeRectangle(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'el') {\r\n\t   \t\t\tproperty = ShapeEllipse(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'fl') {\r\n\t   \t\t\tproperty = ShapeFill(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'st') {\r\n\t   \t\t\tproperty = ShapeStroke(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'gf') {\r\n\t   \t\t\tproperty = ShapeGradientFill(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'gs') {\r\n\t   \t\t\tproperty = ShapeGradientStroke(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'tm') {\r\n\t   \t\t\tproperty = ShapeTrimPaths(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'rp') {\r\n\t   \t\t\tproperty = ShapeRepeater(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'sr') {\r\n\t   \t\t\tproperty = ShapePolystar(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'rd') {\r\n\t   \t\t\tproperty = ShapeRoundCorners(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'sh') {\r\n\t   \t\t\tproperty = ShapePath(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'tr') {\r\n\t   \t\t\tproperty = Transform(shapes[index].transform.mProps, state);\r\n\t   \t\t} else {\r\n\t   \t\t\tconsole.log(shape.ty);\r\n\t   \t\t}\r\n\t   \t\tcachedShapeProperties[index] = property;\r\n\t   \t\treturn property;\r\n\t\t   }\r\n\t\t});\r\n\t\treturn ob\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn shapesData.map(function(shape, index) {\r\n\t\t\treturn buildShapeObject(shape, index)\r\n\t\t});\r\n\t}\r\n\r\n\tfunction fromKeypathLayerPoint(point) {\r\n\t\tif(state.hasProperty('Transform')) {\r\n    \t\tvar toWorldMat = Matrix();\r\n        \tvar transformMat = state.getProperty('Transform').getTargetTransform();\r\n\t\t\ttransformMat.applyToMatrix(toWorldMat);\r\n        \tpoint = toWorldMat.applyToPointArray(point[0],point[1],point[2]||0);\r\n\t\t}\r\n\t\treturn state.parent.fromKeypathLayerPoint(point);\r\n\t}\r\n\r\n\tfunction toKeypathLayerPoint(point) {\r\n\t\tpoint = state.parent.toKeypathLayerPoint(point);\r\n\t\tif(state.hasProperty('Transform')) {\r\n    \t\tvar toWorldMat = Matrix();\r\n        \tvar transformMat = state.getProperty('Transform').getTargetTransform();\r\n\t\t\ttransformMat.applyToMatrix(toWorldMat);\r\n        \tpoint = toWorldMat.inversePoint(point);\r\n\t\t}\r\n\t\treturn point;\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tfromKeypathLayerPoint: fromKeypathLayerPoint,\r\n\t\ttoKeypathLayerPoint: toKeypathLayerPoint\r\n\t}\r\n\r\n\t//state.properties = _buildPropertyMap();\r\n\r\n\treturn Object.assign(state, KeyPathNode(state), methods)\r\n}\r\n\r\nmodule.exports = ShapeContents;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapeEllipse(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Size',\r\n\t\t\t\tvalue: Property(element.sh.s, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Position',\r\n\t\t\t\tvalue: Property(element.sh.p, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapeEllipse;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapeFill(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Color',\r\n\t\t\t\tvalue: Property(element.c, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Opacity',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: Property(element.o, parent)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapeFill;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapeGradientFill(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Start Point',\r\n\t\t\t\tvalue: Property(element.s, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'End Point',\r\n\t\t\t\tvalue: Property(element.s, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Opacity',\r\n\t\t\t\tvalue: Property(element.o, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Highlight Length',\r\n\t\t\t\tvalue: Property(element.h, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Highlight Angle',\r\n\t\t\t\tvalue: Property(element.a, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Colors',\r\n\t\t\t\tvalue: Property(element.g.prop, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapeGradientFill;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapeGradientStroke(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Start Point',\r\n\t\t\t\tvalue: Property(element.s, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'End Point',\r\n\t\t\t\tvalue: Property(element.e, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Opacity',\r\n\t\t\t\tvalue: Property(element.o, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Highlight Length',\r\n\t\t\t\tvalue: Property(element.h, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Highlight Angle',\r\n\t\t\t\tvalue: Property(element.a, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Colors',\r\n\t\t\t\tvalue: Property(element.g.prop, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Stroke Width',\r\n\t\t\t\tvalue: Property(element.w, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapeGradientStroke;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapePath(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction setPath(value) {\r\n\t\tProperty(element.sh).setValue(value);\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'path',\r\n\t\t\t\tvalue:Property(element.sh, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapePath;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapePolystar(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Points',\r\n\t\t\t\tvalue: Property(element.sh.pt, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Position',\r\n\t\t\t\tvalue: Property(element.sh.p, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Rotation',\r\n\t\t\t\tvalue: Property(element.sh.r, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Inner Radius',\r\n\t\t\t\tvalue: Property(element.sh.ir, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Outer Radius',\r\n\t\t\t\tvalue: Property(element.sh.or, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Inner Roundness',\r\n\t\t\t\tvalue: Property(element.sh.is, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Outer Roundness',\r\n\t\t\t\tvalue: Property(element.sh.os, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapePolystar;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapeRectangle(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Size',\r\n\t\t\t\tvalue: Property(element.sh.s, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Position',\r\n\t\t\t\tvalue: Property(element.sh.p, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Roundness',\r\n\t\t\t\tvalue: Property(element.sh.r, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapeRectangle;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\nvar Transform = require('../transform/Transform');\r\n\r\nfunction ShapeRepeater(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Copies',\r\n\t\t\t\tvalue: Property(element.c, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Offset',\r\n\t\t\t\tvalue: Property(element.o, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Transform',\r\n\t\t\t\tvalue: Transform(element.tr, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapeRepeater;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapeRoundCorners(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Radius',\r\n\t\t\t\tvalue: Property(element.rd, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapeRoundCorners;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapeStroke(element, parent) {\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Color',\r\n\t\t\t\tvalue: Property(element.c, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Stroke Width',\r\n\t\t\t\tvalue: Property(element.w, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Opacity',\r\n\t\t\t\tvalue: Property(element.o, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapeStroke","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapeTrimPaths(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Start',\r\n\t\t\t\tvalue: Property(element.s, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'End',\r\n\t\t\t\tvalue: Property(element.e, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Offset',\r\n\t\t\t\tvalue: Property(element.o, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapeTrimPaths;","var LayerBase = require('../LayerBase');\r\n\r\nfunction Solid(element, parent) {\r\n\r\n\tvar state = {\r\n\t\telement: element,\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign({}, LayerBase(state), methods);\r\n}\r\n\r\nmodule.exports = Solid;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\nvar TextAnimator = require('./TextAnimator');\r\n\r\nfunction Text(element, parent) {\r\n\r\n\tvar instance = {}\r\n\r\n\tvar state = {\r\n\t\telement: element,\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction setDocumentData(_function) {\r\n\t\tvar previousValue;\r\n\t\tvar textDocumentUpdater = function(data) {\r\n\t\t\tvar newValue = _function(element.textProperty.currentData);\r\n\t\t\tif (previousValue !== newValue) {\r\n\t\t\t\tpreviousValue = newValue;\r\n\t\t\t\treturn Object.assign({}, data, newValue, {__complete: false});\r\n\t\t\t}\r\n\t\t\treturn data\r\n\t\t}\r\n\t\telement.textProperty.addEffect(textDocumentUpdater);\r\n\t}\r\n\r\n\tfunction addAnimators() {\r\n\t\tvar animatorProperties = [];\r\n\t\tvar animators = element.textAnimator._animatorsData;\r\n\t\tvar i, len = animators.length;\r\n\t\tvar textAnimator;\r\n\t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\ttextAnimator = TextAnimator(animators[i])\r\n\t\t\tanimatorProperties.push({\r\n\t\t\t\tname: element.textAnimator._textData.a[i].nm || 'Animator ' + (i+1), //Fallback for old animations\r\n\t\t\t\tvalue: textAnimator\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn animatorProperties;\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname:'Source',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setDocumentData\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t].concat(addAnimators())\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(instance, methods, KeyPathNode(state));\r\n\r\n}\r\n\r\nmodule.exports = Text;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction TextAnimator(animator) {\r\n\r\n\tvar instance = {}\r\n\r\n\tvar state = {\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction setAnchorPoint(value) {\r\n\t\tProperty(animator.a.a).setValue(value);\r\n\t}\r\n\r\n\tfunction setFillBrightness(value) {\r\n\t\tProperty(animator.a.fb).setValue(value);\r\n\t}\r\n\r\n\tfunction setFillColor(value) {\r\n\t\tProperty(animator.a.fc).setValue(value);\r\n\t}\r\n\r\n\tfunction setFillHue(value) {\r\n\t\tProperty(animator.a.fh).setValue(value);\r\n\t}\r\n\r\n\tfunction setFillSaturation(value) {\r\n\t\tProperty(animator.a.fs).setValue(value);\r\n\t}\r\n\r\n\tfunction setFillOpacity(value) {\r\n\t\tProperty(animator.a.fo).setValue(value);\r\n\t}\r\n\r\n\tfunction setOpacity(value) {\r\n\t\tProperty(animator.a.o).setValue(value);\r\n\t}\r\n\r\n\tfunction setPosition(value) {\r\n\t\tProperty(animator.a.p).setValue(value);\r\n\t}\r\n\r\n\tfunction setRotation(value) {\r\n\t\tProperty(animator.a.r).setValue(value);\r\n\t}\r\n\r\n\tfunction setRotationX(value) {\r\n\t\tProperty(animator.a.rx).setValue(value);\r\n\t}\r\n\r\n\tfunction setRotationY(value) {\r\n\t\tProperty(animator.a.ry).setValue(value);\r\n\t}\r\n\r\n\tfunction setScale(value) {\r\n\t\tProperty(animator.a.s).setValue(value);\r\n\t}\r\n\r\n\tfunction setSkewAxis(value) {\r\n\t\tProperty(animator.a.sa).setValue(value);\r\n\t}\r\n\r\n\tfunction setStrokeColor(value) {\r\n\t\tProperty(animator.a.sc).setValue(value);\r\n\t}\r\n\r\n\tfunction setSkew(value) {\r\n\t\tProperty(animator.a.sk).setValue(value);\r\n\t}\r\n\r\n\tfunction setStrokeOpacity(value) {\r\n\t\tProperty(animator.a.so).setValue(value);\r\n\t}\r\n\r\n\tfunction setStrokeWidth(value) {\r\n\t\tProperty(animator.a.sw).setValue(value);\r\n\t}\r\n\r\n\tfunction setStrokeBrightness(value) {\r\n\t\tProperty(animator.a.sb).setValue(value);\r\n\t}\r\n\r\n\tfunction setStrokeHue(value) {\r\n\t\tProperty(animator.a.sh).setValue(value);\r\n\t}\r\n\r\n\tfunction setStrokeSaturation(value) {\r\n\t\tProperty(animator.a.ss).setValue(value);\r\n\t}\r\n\r\n\tfunction setTrackingAmount(value) {\r\n\t\tProperty(animator.a.t).setValue(value);\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname:'Anchor Point',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setAnchorPoint\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Fill Brightness',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setFillBrightness\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Fill Color',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setFillColor\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Fill Hue',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setFillHue\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Fill Saturation',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setFillSaturation\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Fill Opacity',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setFillOpacity\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Opacity',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setOpacity\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Position',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setPosition\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Rotation X',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setRotationX\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Rotation Y',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setRotationY\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Scale',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setScale\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Skew Axis',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setSkewAxis\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Stroke Color',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setStrokeColor\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Skew',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setSkew\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Stroke Width',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setStrokeWidth\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Tracking Amount',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setTrackingAmount\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Stroke Opacity',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setStrokeOpacity\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Stroke Brightness',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setStrokeBrightness\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Stroke Saturation',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setStrokeSaturation\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Stroke Hue',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setStrokeHue\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(instance, methods, KeyPathNode(state));\r\n\r\n}\r\n\r\nmodule.exports = TextAnimator;","var LayerBase = require('../LayerBase');\r\nvar Text = require('./Text');\r\n\r\nfunction TextElement(element) {\r\n\r\n\tvar instance = {};\r\n\r\n\tvar TextProperty = Text(element);\r\n\tvar state = {\r\n\t\telement: element,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'text',\r\n\t\t\t\tvalue: TextProperty\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Text',\r\n\t\t\t\tvalue: TextProperty\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tfunction getText() {\r\n\t\treturn element.textProperty.currentData.t;\r\n\t}\r\n\r\n\tfunction setText(value, index) {\r\n\t\tsetDocumentData({t: value}, index);\r\n\t}\r\n\r\n\tfunction setDocumentData(data, index) {\r\n\t\treturn element.updateDocumentData(data, index);\r\n\t}\r\n\t\r\n\tfunction canResizeFont(_canResize) {\r\n\t\treturn element.canResizeFont(_canResize);\r\n\t}\r\n\r\n\tfunction setMinimumFontSize(_fontSize) {\r\n\t\treturn element.setMinimumFontSize(_fontSize);\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tgetText: getText,\r\n\t\tsetText: setText,\r\n\t\tcanResizeFont: canResizeFont,\r\n\t\tsetDocumentData: setDocumentData,\r\n\t\tsetMinimumFontSize: setMinimumFontSize\r\n\t}\r\n\r\n\treturn Object.assign(instance, LayerBase(state), methods);\r\n\r\n}\r\n\r\nmodule.exports = TextElement;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction Transform(props, parent) {\r\n\tvar state = {\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Anchor Point',\r\n\t\t\t\tvalue: Property(props.a, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Point of Interest',\r\n\t\t\t\tvalue: Property(props.a, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Position',\r\n\t\t\t\tvalue: Property(props.p, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Scale',\r\n\t\t\t\tvalue: Property(props.s, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Rotation',\r\n\t\t\t\tvalue: Property(props.r, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'X Position',\r\n\t\t\t\tvalue: Property(props.px, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Y Position',\r\n\t\t\t\tvalue: Property(props.py, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Z Position',\r\n\t\t\t\tvalue: Property(props.pz, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'X Rotation',\r\n\t\t\t\tvalue: Property(props.rx, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Y Rotation',\r\n\t\t\t\tvalue: Property(props.ry, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Z Rotation',\r\n\t\t\t\tvalue: Property(props.rz, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Opacity',\r\n\t\t\t\tvalue: Property(props.o, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tfunction getTargetTransform() {\r\n\t\treturn props;\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tgetTargetTransform: getTargetTransform\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = Transform;","var KeyPathNode = require('../key_path/KeyPathNode');\r\nvar ValueProperty = require('./ValueProperty');\r\n\r\nfunction Property(property, parent) {\r\n\tvar state = {\r\n\t\tproperty: property,\r\n\t\tparent: parent\r\n\t}\r\n\r\n\tfunction destroy() {\r\n\t\tstate.property = null;\r\n\t\tstate.parent = null;\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tdestroy: destroy\r\n\t}\r\n\r\n\treturn Object.assign({}, methods, ValueProperty(state), KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = Property;","function ValueProperty(state) {\r\n\t\r\n\tfunction setValue(value) {\r\n\t\tvar property = state.property;\r\n\t\tif(!property || !property.addEffect) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (typeof value === 'function') {\r\n\t\t\treturn property.addEffect(value);\r\n\t\t} else if (property.propType === 'multidimensional' && typeof value === 'object' && value.length === 2) {\r\n\t\t\treturn property.addEffect(function(){return value});\r\n\t\t} else if (property.propType === 'unidimensional' && typeof value === 'number') {\r\n\t\t\treturn property.addEffect(function(){return value});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getValue() {\r\n\t\treturn state.property.v;\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tsetValue: setValue,\r\n\t\tgetValue: getValue\r\n\t}\r\n\r\n\treturn methods;\r\n}\r\n\r\nmodule.exports = ValueProperty;","var LayerList = require('../layer/LayerList');\r\nvar KeyPathList = require('../key_path/KeyPathList');\r\n\r\nfunction Renderer(state) {\r\n\r\n\tstate._type = 'renderer';\r\n\r\n\tfunction getRendererType() {\r\n\t\treturn state.animation.animType;\r\n\t}\r\n\r\n\treturn Object.assign({\r\n\t\tgetRendererType: getRendererType\r\n\t}, LayerList(state.elements), KeyPathList(state.elements, 'renderer'));\r\n}\r\n\r\nmodule.exports = Renderer;"],"sourceRoot":""},"metadata":{},"sourceType":"script"}